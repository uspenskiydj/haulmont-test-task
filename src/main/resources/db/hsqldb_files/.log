/*C205*/SET SCHEMA PUBLIC
DROP PROCEDURE populate_db IF EXISTS
CREATE PROCEDURE populate_db()\u000a    MODIFIES SQL DATA\u000aBEGIN\u000a    ATOMIC\u000a    DECLARE bank_id1, bank_id2, customer_id1, customer_id2, customer_id3, credit_id1, credit_id2,\u000a        credit_id3, credit_proposal_id1, credit_proposal_id2, credit_proposal_id3 UUID;\u000a    SET bank_id1 = UUID();\u000a    SET bank_id2 = UUID();\u000a    SET customer_id1 = UUID();\u000a    SET customer_id2 = UUID();\u000a    SET customer_id3 = UUID();\u000a    SET credit_id1 = UUID();\u000a    SET credit_id2 = UUID();\u000a    SET credit_id3 = UUID();\u000a    SET credit_proposal_id1 = UUID();\u000a    SET credit_proposal_id2 = UUID();\u000a    SET credit_proposal_id3 = UUID();\u000a\u000a    DELETE FROM payments;\u000a    DELETE FROM credit_proposals;\u000a    DELETE FROM credits;\u000a    DELETE FROM customers;\u000a    DELETE FROM banks;\u000a\u000a    INSERT INTO banks (id)\u000a    VALUES (bank_id1),\u000a           (bank_id2);\u000a\u000a    INSERT INTO customers (id, fio, phone_number, email, passport_number, bank_id)\u000a    VALUES (customer_id1, '\u041a\u0443\u0437\u043d\u0435\u0446\u043e\u0432 \u041c\u0430\u043a\u0441\u0438\u043c \u0420\u043e\u043c\u0430\u043d\u043e\u0432\u0438\u0447', '892496599429', 'yf.bos@gmail.com', '968738651', bank_id1),\u000a           (customer_id2, '\u0410\u0440\u0445\u0438\u043f\u043e\u0432 \u041c\u0430\u0442\u0432\u0435\u0439 \u0410\u043b\u044c\u0431\u0435\u0440\u0442\u043e\u0432\u0438\u0447', '892439700081', 'ds.gdr@gmail.com', '752010981', bank_id1),\u000a           (customer_id3, '\u0412\u043e\u0440\u043e\u043d\u0438\u043d \u0410\u043b\u0435\u043a\u0441\u0435\u0439 \u0412\u0430\u0441\u0438\u043b\u044c\u0435\u0432\u0438\u0447', '892434918433', 'sa.fds@gmail.com', '456656525', bank_id2);\u000a\u000a    INSERT INTO credits (id, limit, interest_rate, bank_id)\u000a    VALUES (credit_id1, 250000, 20, bank_id1),\u000a           (credit_id2, 500000, 15.5, bank_id1),\u000a           (credit_id3, 750000, 10.5, bank_id2);\u000a\u000a    INSERT INTO credit_proposals (id, credit_amount, customer_id, credit_id)\u000a    VALUES (credit_proposal_id1, 100000, customer_id1, credit_id1),\u000a           (credit_proposal_id2, 250000, customer_id2, credit_id2),\u000a           (credit_proposal_id3, 544333, customer_id3, credit_id3);\u000a\u000a    INSERT INTO payments (id, date, total_amount, amount_of_credit_body_repayment,\u000a                          amount_of_interest_repayment, credit_proposal_id)\u000a    VALUES (UUID(), '2021-01-25', 100.5, 90.3, 10.2, credit_proposal_id1),\u000a           (UUID(), '2021-02-25', 200.5, 180.3, 20.2, credit_proposal_id2),\u000a           (UUID(), '2021-03-25', 300.5, 270.3, 30.2, credit_proposal_id3);\u000aEND
DELETE FROM PAYMENTS WHERE ID='21b0b22a-d4f2-47d1-a8f3-44a10729005d'
DELETE FROM PAYMENTS WHERE ID='2599cce9-fc5e-4a54-a929-3fc0e10dfbc2'
DELETE FROM PAYMENTS WHERE ID='f1fe04b7-8f94-45ab-b64c-6d539f2d1c8d'
DELETE FROM CREDIT_PROPOSALS WHERE ID='4e13c63b-912d-43d7-98b0-27b5e9f663f1'
DELETE FROM CREDIT_PROPOSALS WHERE ID='87acbfb0-fcf5-4b88-b64d-b6766714ebb6'
DELETE FROM CREDIT_PROPOSALS WHERE ID='8dcbbedb-7e7e-4f8f-997c-f8886411ffa2'
DELETE FROM CREDITS WHERE ID='62dff45d-8f9f-4b8c-9de4-2b98d8250155'
DELETE FROM CREDITS WHERE ID='6a74637e-c2d0-4588-bae5-cf795ee3d04d'
DELETE FROM CREDITS WHERE ID='cd3ed2a5-8a39-4a96-ac0b-385b715c24d5'
DELETE FROM CUSTOMERS WHERE ID='584c926d-aad8-4989-900e-0b7674fa10f4'
DELETE FROM CUSTOMERS WHERE ID='c6aa5d2e-0e13-42b8-9687-7150fdbb621e'
DELETE FROM CUSTOMERS WHERE ID='fe6fceb4-5117-4b32-a492-7f03eef08882'
DELETE FROM BANKS WHERE ID='160f6af7-8922-4ec3-bd5e-6f9b21f02052'
DELETE FROM BANKS WHERE ID='3a344ffb-45f9-4655-9735-dc350ce8a9af'
INSERT INTO BANKS VALUES('b934e719-4251-46f3-a873-11b1e9d79eab')
INSERT INTO BANKS VALUES('3d5293ba-c03a-42dd-b36e-cd9456a4a42f')
INSERT INTO CUSTOMERS VALUES('0a0bd721-5344-4989-a0e3-311e3cf4003f','\u041a\u0443\u0437\u043d\u0435\u0446\u043e\u0432 \u041c\u0430\u043a\u0441\u0438\u043c \u0420\u043e\u043c\u0430\u043d\u043e\u0432\u0438\u0447','892496599429','yf.bos@gmail.com','968738651','b934e719-4251-46f3-a873-11b1e9d79eab')
INSERT INTO CUSTOMERS VALUES('184b6c2e-6ace-40b6-8223-70776dc738be','\u0410\u0440\u0445\u0438\u043f\u043e\u0432 \u041c\u0430\u0442\u0432\u0435\u0439 \u0410\u043b\u044c\u0431\u0435\u0440\u0442\u043e\u0432\u0438\u0447','892439700081','ds.gdr@gmail.com','752010981','b934e719-4251-46f3-a873-11b1e9d79eab')
INSERT INTO CUSTOMERS VALUES('e7b112ab-e15f-4570-8d9d-ee1e30f73959','\u0412\u043e\u0440\u043e\u043d\u0438\u043d \u0410\u043b\u0435\u043a\u0441\u0435\u0439 \u0412\u0430\u0441\u0438\u043b\u044c\u0435\u0432\u0438\u0447','892434918433','sa.fds@gmail.com','456656525','3d5293ba-c03a-42dd-b36e-cd9456a4a42f')
INSERT INTO CREDITS VALUES('dba1f874-dd79-4e06-a383-7781dba054af',250000.00,20.00,'b934e719-4251-46f3-a873-11b1e9d79eab')
INSERT INTO CREDITS VALUES('ca93fc6c-84f2-4a7f-b711-b7797e5bbc4c',500000.00,15.50,'b934e719-4251-46f3-a873-11b1e9d79eab')
INSERT INTO CREDITS VALUES('640cf506-2816-44e2-bb0f-93d0cdd7c243',750000.00,10.50,'3d5293ba-c03a-42dd-b36e-cd9456a4a42f')
INSERT INTO CREDIT_PROPOSALS VALUES('bbbe0b0a-b417-4877-8e32-d2d661c7017d',100000.00,'0a0bd721-5344-4989-a0e3-311e3cf4003f','dba1f874-dd79-4e06-a383-7781dba054af')
INSERT INTO CREDIT_PROPOSALS VALUES('b8aa06b7-f5f1-483d-bdee-9b3196340422',250000.00,'184b6c2e-6ace-40b6-8223-70776dc738be','ca93fc6c-84f2-4a7f-b711-b7797e5bbc4c')
INSERT INTO CREDIT_PROPOSALS VALUES('2b6a11e0-b08e-4b14-b568-6aa92bfff52c',544333.00,'e7b112ab-e15f-4570-8d9d-ee1e30f73959','640cf506-2816-44e2-bb0f-93d0cdd7c243')
INSERT INTO PAYMENTS VALUES('d9b1469b-7bef-4b93-ba07-c556e7e59547','2021-01-25',100.50,90.30,10.20,'bbbe0b0a-b417-4877-8e32-d2d661c7017d')
INSERT INTO PAYMENTS VALUES('21374a50-ea45-4985-b64f-67ab68773e48','2021-02-25',200.50,180.30,20.20,'b8aa06b7-f5f1-483d-bdee-9b3196340422')
INSERT INTO PAYMENTS VALUES('496f719d-abf1-4c7b-aeb8-044ecf379edb','2021-03-25',300.50,270.30,30.20,'2b6a11e0-b08e-4b14-b568-6aa92bfff52c')
COMMIT
DISCONNECT
/*C206*/SET SCHEMA PUBLIC
DISCONNECT
/*C4*/SET SCHEMA PUBLIC
DISCONNECT
/*C207*/SET SCHEMA PUBLIC
DROP PROCEDURE populate_db IF EXISTS
CREATE PROCEDURE populate_db()\u000a    MODIFIES SQL DATA\u000aBEGIN\u000a    ATOMIC\u000a    DECLARE bank_id1, bank_id2, customer_id1, customer_id2, customer_id3, credit_id1, credit_id2,\u000a        credit_id3, credit_proposal_id1, credit_proposal_id2, credit_proposal_id3 UUID;\u000a    SET bank_id1 = UUID();\u000a    SET bank_id2 = UUID();\u000a    SET customer_id1 = UUID();\u000a    SET customer_id2 = UUID();\u000a    SET customer_id3 = UUID();\u000a    SET credit_id1 = UUID();\u000a    SET credit_id2 = UUID();\u000a    SET credit_id3 = UUID();\u000a    SET credit_proposal_id2 = UUID();\u000a    SET credit_proposal_id3 = UUID();\u000a\u000a    DELETE FROM payments;\u000a    DELETE FROM credit_proposals;\u000a    DELETE FROM credits;\u000a    DELETE FROM customers;\u000a    DELETE FROM banks;\u000a\u000a    INSERT INTO banks (id)\u000a    VALUES (bank_id1),\u000a           (bank_id2);\u000a\u000a    INSERT INTO customers (id, fio, phone_number, email, passport_number, bank_id)\u000a    VALUES (customer_id1, '\u041a\u0443\u0437\u043d\u0435\u0446\u043e\u0432 \u041c\u0430\u043a\u0441\u0438\u043c \u0420\u043e\u043c\u0430\u043d\u043e\u0432\u0438\u0447', '892496599429', 'yf.bos@gmail.com', '968738651', bank_id1),\u000a           (customer_id2, '\u0410\u0440\u0445\u0438\u043f\u043e\u0432 \u041c\u0430\u0442\u0432\u0435\u0439 \u0410\u043b\u044c\u0431\u0435\u0440\u0442\u043e\u0432\u0438\u0447', '892439700081', 'ds.gdr@gmail.com', '752010981', bank_id1),\u000a           (customer_id3, '\u0412\u043e\u0440\u043e\u043d\u0438\u043d \u0410\u043b\u0435\u043a\u0441\u0435\u0439 \u0412\u0430\u0441\u0438\u043b\u044c\u0435\u0432\u0438\u0447', '892434918433', 'sa.fds@gmail.com', '456656525', bank_id2);\u000a\u000a    INSERT INTO credits (id, limit, interest_rate, bank_id)\u000a    VALUES (credit_id1, 250000, 20, bank_id1),\u000a           (credit_id2, 500000, 15.5, bank_id1),\u000a           (credit_id3, 750000, 10.5, bank_id2);\u000a\u000a    INSERT INTO credit_proposals (id, credit_amount, customer_id, credit_id)\u000a    VALUES (credit_proposal_id2, 250000, customer_id2, credit_id2),\u000a           (credit_proposal_id3, 544333, customer_id3, credit_id3);\u000a\u000a    INSERT INTO payments (id, date, total_amount, amount_of_credit_body_repayment,\u000a                          amount_of_interest_repayment, credit_proposal_id)\u000a    VALUES (UUID(), '2021-02-25', 200.5, 180.3, 20.2, credit_proposal_id2),\u000a           (UUID(), '2021-03-25', 300.5, 270.3, 30.2, credit_proposal_id3);\u000aEND
DELETE FROM PAYMENTS WHERE ID='21374a50-ea45-4985-b64f-67ab68773e48'
DELETE FROM PAYMENTS WHERE ID='496f719d-abf1-4c7b-aeb8-044ecf379edb'
DELETE FROM PAYMENTS WHERE ID='d9b1469b-7bef-4b93-ba07-c556e7e59547'
DELETE FROM CREDIT_PROPOSALS WHERE ID='2b6a11e0-b08e-4b14-b568-6aa92bfff52c'
DELETE FROM CREDIT_PROPOSALS WHERE ID='b8aa06b7-f5f1-483d-bdee-9b3196340422'
DELETE FROM CREDIT_PROPOSALS WHERE ID='bbbe0b0a-b417-4877-8e32-d2d661c7017d'
DELETE FROM CREDITS WHERE ID='640cf506-2816-44e2-bb0f-93d0cdd7c243'
DELETE FROM CREDITS WHERE ID='ca93fc6c-84f2-4a7f-b711-b7797e5bbc4c'
DELETE FROM CREDITS WHERE ID='dba1f874-dd79-4e06-a383-7781dba054af'
DELETE FROM CUSTOMERS WHERE ID='0a0bd721-5344-4989-a0e3-311e3cf4003f'
DELETE FROM CUSTOMERS WHERE ID='184b6c2e-6ace-40b6-8223-70776dc738be'
DELETE FROM CUSTOMERS WHERE ID='e7b112ab-e15f-4570-8d9d-ee1e30f73959'
DELETE FROM BANKS WHERE ID='3d5293ba-c03a-42dd-b36e-cd9456a4a42f'
DELETE FROM BANKS WHERE ID='b934e719-4251-46f3-a873-11b1e9d79eab'
INSERT INTO BANKS VALUES('7f1af09c-6f46-4b27-95b9-70984909cdac')
INSERT INTO BANKS VALUES('83d32be9-2227-4b8d-9a58-70213a08290f')
INSERT INTO CUSTOMERS VALUES('01d682b5-7138-49d1-8267-ed8571920821','\u041a\u0443\u0437\u043d\u0435\u0446\u043e\u0432 \u041c\u0430\u043a\u0441\u0438\u043c \u0420\u043e\u043c\u0430\u043d\u043e\u0432\u0438\u0447','892496599429','yf.bos@gmail.com','968738651','7f1af09c-6f46-4b27-95b9-70984909cdac')
INSERT INTO CUSTOMERS VALUES('fc4b68da-ea05-4a29-af0d-c71ac2557a24','\u0410\u0440\u0445\u0438\u043f\u043e\u0432 \u041c\u0430\u0442\u0432\u0435\u0439 \u0410\u043b\u044c\u0431\u0435\u0440\u0442\u043e\u0432\u0438\u0447','892439700081','ds.gdr@gmail.com','752010981','7f1af09c-6f46-4b27-95b9-70984909cdac')
INSERT INTO CUSTOMERS VALUES('4ba231ae-6c12-4198-b65f-f7def2aeb40c','\u0412\u043e\u0440\u043e\u043d\u0438\u043d \u0410\u043b\u0435\u043a\u0441\u0435\u0439 \u0412\u0430\u0441\u0438\u043b\u044c\u0435\u0432\u0438\u0447','892434918433','sa.fds@gmail.com','456656525','83d32be9-2227-4b8d-9a58-70213a08290f')
INSERT INTO CREDITS VALUES('ec646a94-788f-4e37-b66a-41dbda332e53',250000.00,20.00,'7f1af09c-6f46-4b27-95b9-70984909cdac')
INSERT INTO CREDITS VALUES('670ef048-fee6-4793-9400-d8952fb3a0e8',500000.00,15.50,'7f1af09c-6f46-4b27-95b9-70984909cdac')
INSERT INTO CREDITS VALUES('b42d3950-0f73-4e20-a114-610f160f76dd',750000.00,10.50,'83d32be9-2227-4b8d-9a58-70213a08290f')
INSERT INTO CREDIT_PROPOSALS VALUES('2450b23a-e844-4f74-980b-ee3a3f46bc4d',250000.00,'fc4b68da-ea05-4a29-af0d-c71ac2557a24','670ef048-fee6-4793-9400-d8952fb3a0e8')
INSERT INTO CREDIT_PROPOSALS VALUES('d06098b9-196b-4a9b-b4ae-bde3aa0b3304',544333.00,'4ba231ae-6c12-4198-b65f-f7def2aeb40c','b42d3950-0f73-4e20-a114-610f160f76dd')
INSERT INTO PAYMENTS VALUES('3966c854-7460-4461-955a-aa6a2178fd7d','2021-02-25',200.50,180.30,20.20,'2450b23a-e844-4f74-980b-ee3a3f46bc4d')
INSERT INTO PAYMENTS VALUES('1db2f3a3-e8d6-448c-9d90-8f9d5698d8dc','2021-03-25',300.50,270.30,30.20,'d06098b9-196b-4a9b-b4ae-bde3aa0b3304')
COMMIT
DISCONNECT
/*C208*/SET SCHEMA PUBLIC
DISCONNECT
/*C3*/SET SCHEMA PUBLIC
DISCONNECT
/*C4*/SET SCHEMA PUBLIC
DISCONNECT
/*C5*/SET SCHEMA PUBLIC
DISCONNECT
/*C6*/SET SCHEMA PUBLIC
DISCONNECT
/*C7*/SET SCHEMA PUBLIC
DISCONNECT
/*C8*/SET SCHEMA PUBLIC
DISCONNECT
/*C9*/SET SCHEMA PUBLIC
DISCONNECT
/*C10*/SET SCHEMA PUBLIC
DISCONNECT
/*C11*/SET SCHEMA PUBLIC
DISCONNECT
/*C12*/SET SCHEMA PUBLIC
DISCONNECT
/*C13*/SET SCHEMA PUBLIC
DISCONNECT
/*C14*/SET SCHEMA PUBLIC
DISCONNECT
/*C209*/SET SCHEMA PUBLIC
DROP PROCEDURE populate_db IF EXISTS
CREATE PROCEDURE populate_db()\u000a    MODIFIES SQL DATA\u000aBEGIN\u000a    ATOMIC\u000a    DECLARE bank_id1, bank_id2, customer_id1, customer_id2, customer_id3, credit_id1, credit_id2,\u000a        credit_id3, credit_proposal_id1, credit_proposal_id2 UUID;\u000a    SET bank_id1 = UUID();\u000a    SET bank_id2 = UUID();\u000a    SET customer_id1 = UUID();\u000a    SET customer_id2 = UUID();\u000a    SET customer_id3 = UUID();\u000a    SET credit_id1 = UUID();\u000a    SET credit_id2 = UUID();\u000a    SET credit_id3 = UUID();\u000a    SET credit_proposal_id1 = UUID();\u000a    SET credit_proposal_id2 = UUID();\u000a\u000a    DELETE FROM payments;\u000a    DELETE FROM credit_proposals;\u000a    DELETE FROM credits;\u000a    DELETE FROM customers;\u000a    DELETE FROM banks;\u000a\u000a    INSERT INTO banks (id)\u000a    VALUES (bank_id1),\u000a           (bank_id2);\u000a\u000a    INSERT INTO customers (id, fio, phone_number, email, passport_number, bank_id)\u000a    VALUES (customer_id1, '\u041a\u0443\u0437\u043d\u0435\u0446\u043e\u0432 \u041c\u0430\u043a\u0441\u0438\u043c \u0420\u043e\u043c\u0430\u043d\u043e\u0432\u0438\u0447', '892496599429', 'yf.bos@gmail.com', '968738651', bank_id1),\u000a           (customer_id2, '\u0410\u0440\u0445\u0438\u043f\u043e\u0432 \u041c\u0430\u0442\u0432\u0435\u0439 \u0410\u043b\u044c\u0431\u0435\u0440\u0442\u043e\u0432\u0438\u0447', '892439700081', 'ds.gdr@gmail.com', '752010981', bank_id1),\u000a           (customer_id3, '\u0412\u043e\u0440\u043e\u043d\u0438\u043d \u0410\u043b\u0435\u043a\u0441\u0435\u0439 \u0412\u0430\u0441\u0438\u043b\u044c\u0435\u0432\u0438\u0447', '892434918433', 'sa.fds@gmail.com', '456656525', bank_id2);\u000a\u000a    INSERT INTO credits (id, limit, interest_rate, bank_id)\u000a    VALUES (credit_id1, 250000, 20, bank_id1),\u000a           (credit_id2, 500000, 15.5, bank_id1),\u000a           (credit_id3, 750000, 10.5, bank_id2);\u000a\u000a    INSERT INTO credit_proposals (id, credit_amount, customer_id, credit_id)\u000a    VALUES (credit_proposal_id1, 250000, customer_id2, credit_id2),\u000a           (credit_proposal_id2, 544333, customer_id3, credit_id3);\u000a\u000a    INSERT INTO payments (id, date, total_amount, amount_of_credit_body_repayment,\u000a                          amount_of_interest_repayment, credit_proposal_id)\u000a    VALUES (UUID(), '2021-05-25', 22623.6, 19394.44, 3229.17, credit_proposal_id1),\u000a           (UUID(), '2021-06-25', 22623.6, 19644.95, 2978.66, credit_proposal_id1),\u000a           (UUID(), '2021-07-25', 22623.6, 19898.7, 2724.91, credit_proposal_id1),\u000a           (UUID(), '2021-08-25', 22623.6, 20155.72, 2467.88, credit_proposal_id1),\u000a           (UUID(), '2021-09-25', 22623.6, 20416.07, 2207.54, credit_proposal_id1),\u000a           (UUID(), '2021-10-25', 22623.6, 20679.77, 1943.83, credit_proposal_id1),\u000a           (UUID(), '2021-11-25', 22623.6, 20946.89, 1676.72, credit_proposal_id1),\u000a           (UUID(), '2021-12-25', 22623.6, 21217.45, 1406.15, credit_proposal_id1),\u000a           (UUID(), '2022-01-25', 22623.6, 21491.51, 1132.09, credit_proposal_id1),\u000a           (UUID(), '2022-02-25', 22623.6, 21769.11, 854.5, credit_proposal_id1),\u000a           (UUID(), '2022-03-25', 22623.6, 22050.29, 573.31, credit_proposal_id1),\u000a           (UUID(), '2022-04-25', 22623.6, 22335.11, 288.5, credit_proposal_id1),\u000a           (UUID(), '2021-06-25', 50424.02, 41351.8, 9072.22, credit_proposal_id2),\u000a           (UUID(), '2021-07-25', 50424.02, 42041, 8383.02, credit_proposal_id2),\u000a           (UUID(), '2021-08-25', 50424.02, 42741.68, 7682.34, credit_proposal_id2),\u000a           (UUID(), '2021-09-25', 50424.02, 43454.04, 6969.98, credit_proposal_id2),\u000a           (UUID(), '2021-10-25', 50424.02, 44178.28, 6245.74, credit_proposal_id2),\u000a           (UUID(), '2021-11-25', 50424.02, 44914.58, 5509.44, credit_proposal_id2),\u000a           (UUID(), '2021-12-25', 50424.02, 45663.16, 4760.86, credit_proposal_id2),\u000a           (UUID(), '2022-01-25', 50424.02, 46424.21, 3999.81, credit_proposal_id2),\u000a           (UUID(), '2022-02-25', 50424.02, 47197.95, 3226.07, credit_proposal_id2),\u000a           (UUID(), '2022-03-25', 50424.02, 47984.58, 2439.44, credit_proposal_id2),\u000a           (UUID(), '2022-04-25', 50424.02, 48784.32, 1639.7, credit_proposal_id2),\u000a           (UUID(), '2022-04-25', 50424.02, 49597.4, 826.62, credit_proposal_id2);\u000aEND
DELETE FROM PAYMENTS WHERE ID='1db2f3a3-e8d6-448c-9d90-8f9d5698d8dc'
DELETE FROM PAYMENTS WHERE ID='3966c854-7460-4461-955a-aa6a2178fd7d'
DELETE FROM CREDIT_PROPOSALS WHERE ID='2450b23a-e844-4f74-980b-ee3a3f46bc4d'
DELETE FROM CREDIT_PROPOSALS WHERE ID='d06098b9-196b-4a9b-b4ae-bde3aa0b3304'
DELETE FROM CREDITS WHERE ID='670ef048-fee6-4793-9400-d8952fb3a0e8'
DELETE FROM CREDITS WHERE ID='b42d3950-0f73-4e20-a114-610f160f76dd'
DELETE FROM CREDITS WHERE ID='ec646a94-788f-4e37-b66a-41dbda332e53'
DELETE FROM CUSTOMERS WHERE ID='01d682b5-7138-49d1-8267-ed8571920821'
DELETE FROM CUSTOMERS WHERE ID='4ba231ae-6c12-4198-b65f-f7def2aeb40c'
DELETE FROM CUSTOMERS WHERE ID='fc4b68da-ea05-4a29-af0d-c71ac2557a24'
DELETE FROM BANKS WHERE ID='7f1af09c-6f46-4b27-95b9-70984909cdac'
DELETE FROM BANKS WHERE ID='83d32be9-2227-4b8d-9a58-70213a08290f'
INSERT INTO BANKS VALUES('39d7e20e-cac7-46ba-bcf8-f80b551d1529')
INSERT INTO BANKS VALUES('79753321-4c19-42e2-9424-97c860be47fe')
INSERT INTO CUSTOMERS VALUES('e067a1bb-c157-41c9-a913-361e7887258a','\u041a\u0443\u0437\u043d\u0435\u0446\u043e\u0432 \u041c\u0430\u043a\u0441\u0438\u043c \u0420\u043e\u043c\u0430\u043d\u043e\u0432\u0438\u0447','892496599429','yf.bos@gmail.com','968738651','39d7e20e-cac7-46ba-bcf8-f80b551d1529')
INSERT INTO CUSTOMERS VALUES('cecd3e9e-b098-42ba-aefc-c1552bbcefe8','\u0410\u0440\u0445\u0438\u043f\u043e\u0432 \u041c\u0430\u0442\u0432\u0435\u0439 \u0410\u043b\u044c\u0431\u0435\u0440\u0442\u043e\u0432\u0438\u0447','892439700081','ds.gdr@gmail.com','752010981','39d7e20e-cac7-46ba-bcf8-f80b551d1529')
INSERT INTO CUSTOMERS VALUES('2d4f0fbf-07b0-4d77-940d-06207a12d8f0','\u0412\u043e\u0440\u043e\u043d\u0438\u043d \u0410\u043b\u0435\u043a\u0441\u0435\u0439 \u0412\u0430\u0441\u0438\u043b\u044c\u0435\u0432\u0438\u0447','892434918433','sa.fds@gmail.com','456656525','79753321-4c19-42e2-9424-97c860be47fe')
INSERT INTO CREDITS VALUES('0fbb0f0b-0e60-42c4-bd7d-8de518b3b17b',250000.00,20.00,'39d7e20e-cac7-46ba-bcf8-f80b551d1529')
INSERT INTO CREDITS VALUES('4bb6f204-0b27-4c46-90fe-c8d85f759698',500000.00,15.50,'39d7e20e-cac7-46ba-bcf8-f80b551d1529')
INSERT INTO CREDITS VALUES('4269a83a-8e6d-42dd-a907-6248cb4cf076',750000.00,10.50,'79753321-4c19-42e2-9424-97c860be47fe')
INSERT INTO CREDIT_PROPOSALS VALUES('4f13f449-b204-485c-b244-58c0eb00836f',250000.00,'cecd3e9e-b098-42ba-aefc-c1552bbcefe8','4bb6f204-0b27-4c46-90fe-c8d85f759698')
INSERT INTO CREDIT_PROPOSALS VALUES('05c64c1a-810b-4cb4-a840-0ceebc08db87',544333.00,'2d4f0fbf-07b0-4d77-940d-06207a12d8f0','4269a83a-8e6d-42dd-a907-6248cb4cf076')
INSERT INTO PAYMENTS VALUES('006fef3d-7667-4744-8fe8-dedd701225b4','2021-05-25',22623.60,19394.44,3229.17,'4f13f449-b204-485c-b244-58c0eb00836f')
INSERT INTO PAYMENTS VALUES('673b502b-b919-4b85-a91d-e32e4a4902c7','2021-06-25',22623.60,19644.95,2978.66,'4f13f449-b204-485c-b244-58c0eb00836f')
INSERT INTO PAYMENTS VALUES('0fadc3db-4a47-435b-b114-7c655c6403a7','2021-07-25',22623.60,19898.70,2724.91,'4f13f449-b204-485c-b244-58c0eb00836f')
INSERT INTO PAYMENTS VALUES('2851753d-515e-44b1-90f6-e8f49d75be81','2021-08-25',22623.60,20155.72,2467.88,'4f13f449-b204-485c-b244-58c0eb00836f')
INSERT INTO PAYMENTS VALUES('1309a2b0-7043-4a15-85db-e7996b313eda','2021-09-25',22623.60,20416.07,2207.54,'4f13f449-b204-485c-b244-58c0eb00836f')
INSERT INTO PAYMENTS VALUES('e169b438-d98e-426b-ad6b-9815d8ceb2da','2021-10-25',22623.60,20679.77,1943.83,'4f13f449-b204-485c-b244-58c0eb00836f')
INSERT INTO PAYMENTS VALUES('96ad16e4-fa47-4665-a0a4-f5abf3106841','2021-11-25',22623.60,20946.89,1676.72,'4f13f449-b204-485c-b244-58c0eb00836f')
INSERT INTO PAYMENTS VALUES('a12f3ac1-21a6-4415-9b31-3a53a2e0a4c5','2021-12-25',22623.60,21217.45,1406.15,'4f13f449-b204-485c-b244-58c0eb00836f')
INSERT INTO PAYMENTS VALUES('5c1f8f32-007e-4cbb-be7e-b8f71d9dadf7','2022-01-25',22623.60,21491.51,1132.09,'4f13f449-b204-485c-b244-58c0eb00836f')
INSERT INTO PAYMENTS VALUES('4a3b11e3-c22f-462f-b60e-866d9feb910c','2022-02-25',22623.60,21769.11,854.50,'4f13f449-b204-485c-b244-58c0eb00836f')
INSERT INTO PAYMENTS VALUES('73c4312b-4f5e-493f-b56c-b252fd47f290','2022-03-25',22623.60,22050.29,573.31,'4f13f449-b204-485c-b244-58c0eb00836f')
INSERT INTO PAYMENTS VALUES('2c3b1f21-ba90-430c-9cf7-0124dda75419','2022-04-25',22623.60,22335.11,288.50,'4f13f449-b204-485c-b244-58c0eb00836f')
INSERT INTO PAYMENTS VALUES('61e3e661-13a2-4348-91ec-d867ea518c95','2021-06-25',50424.02,41351.80,9072.22,'05c64c1a-810b-4cb4-a840-0ceebc08db87')
INSERT INTO PAYMENTS VALUES('8bea2e9b-9830-4ed6-b25d-97e31ef7c4ec','2021-07-25',50424.02,42041.00,8383.02,'05c64c1a-810b-4cb4-a840-0ceebc08db87')
INSERT INTO PAYMENTS VALUES('240cd40f-5ea6-4e5a-b13c-62631c1af6c9','2021-08-25',50424.02,42741.68,7682.34,'05c64c1a-810b-4cb4-a840-0ceebc08db87')
INSERT INTO PAYMENTS VALUES('c075436b-924f-4b2c-985a-26bdcc568d35','2021-09-25',50424.02,43454.04,6969.98,'05c64c1a-810b-4cb4-a840-0ceebc08db87')
INSERT INTO PAYMENTS VALUES('dea57ed3-dc61-4e58-8062-83989c835aa3','2021-10-25',50424.02,44178.28,6245.74,'05c64c1a-810b-4cb4-a840-0ceebc08db87')
INSERT INTO PAYMENTS VALUES('3c0de0af-3df3-4bd5-ad27-03a326eed253','2021-11-25',50424.02,44914.58,5509.44,'05c64c1a-810b-4cb4-a840-0ceebc08db87')
INSERT INTO PAYMENTS VALUES('4dd4f957-e80d-459c-9838-69154fdf733e','2021-12-25',50424.02,45663.16,4760.86,'05c64c1a-810b-4cb4-a840-0ceebc08db87')
INSERT INTO PAYMENTS VALUES('e372924d-03be-49fb-9dbf-27b5363b1dda','2022-01-25',50424.02,46424.21,3999.81,'05c64c1a-810b-4cb4-a840-0ceebc08db87')
INSERT INTO PAYMENTS VALUES('de91b2a3-a234-43b6-b5a8-9f8466566897','2022-02-25',50424.02,47197.95,3226.07,'05c64c1a-810b-4cb4-a840-0ceebc08db87')
INSERT INTO PAYMENTS VALUES('0d107baa-4d1d-4484-ae93-fefd8d6eb504','2022-03-25',50424.02,47984.58,2439.44,'05c64c1a-810b-4cb4-a840-0ceebc08db87')
INSERT INTO PAYMENTS VALUES('ff3be803-02af-4bbd-94aa-b425f1df18ce','2022-04-25',50424.02,48784.32,1639.70,'05c64c1a-810b-4cb4-a840-0ceebc08db87')
INSERT INTO PAYMENTS VALUES('9a0d4f0a-09ed-49e0-8525-0bca2c37c1d8','2022-04-25',50424.02,49597.40,826.62,'05c64c1a-810b-4cb4-a840-0ceebc08db87')
COMMIT
DISCONNECT
/*C210*/SET SCHEMA PUBLIC
DISCONNECT
/*C3*/SET SCHEMA PUBLIC
DISCONNECT
/*C4*/SET SCHEMA PUBLIC
DROP TABLE payments IF EXISTS CASCADE
DROP TABLE credit_proposals IF EXISTS CASCADE
DROP TABLE credits IF EXISTS
DROP TABLE customers IF EXISTS
DROP TABLE banks IF EXISTS
CREATE TABLE banks ( id UUID PRIMARY KEY )
CREATE TABLE customers ( id UUID PRIMARY KEY, fio VARCHAR(255) NOT NULL, phone_number VARCHAR(255) NOT NULL, email VARCHAR(255) NOT NULL, passport_number VARCHAR(255) NOT NULL, bank_id UUID NOT NULL, FOREIGN KEY (bank_id) REFERENCES banks (id) ON DELETE CASCADE )
CREATE TABLE credits ( id UUID PRIMARY KEY, limit DECIMAL(19,2) NOT NULL, interest_rate DECIMAL(19,2) NOT NULL, bank_id UUID NOT NULL, FOREIGN KEY (bank_id) REFERENCES banks (id) ON DELETE CASCADE )
CREATE TABLE credit_proposals ( id UUID PRIMARY KEY, credit_amount DECIMAL(19,2) NOT NULL, customer_id UUID NOT NULL, credit_id UUID NOT NULL, FOREIGN KEY (customer_id) REFERENCES customers (id) ON DELETE CASCADE, FOREIGN KEY (credit_id) REFERENCES credits (id) ON DELETE CASCADE )
CREATE TABLE payments ( id UUID PRIMARY KEY, date Date NOT NULL, total_amount Decimal(19,2) NOT NULL, amount_of_credit_body_repayment Decimal(19,2) NOT NULL, amount_of_interest_repayment Decimal(19,2) NOT NULL, credit_proposal_id UUID NOT NULL, FOREIGN KEY (credit_proposal_id) REFERENCES credit_proposals (id) ON DELETE CASCADE )
DROP PROCEDURE populate_db IF EXISTS
CREATE PROCEDURE populate_db() MODIFIES SQL DATA BEGIN ATOMIC DECLARE bank_id1, bank_id2, customer_id1, customer_id2, customer_id3, credit_id1, credit_id2, credit_id3, credit_proposal_id1, credit_proposal_id2 UUID; SET bank_id1 = UUID(); SET bank_id2 = UUID(); SET customer_id1 = UUID(); SET customer_id2 = UUID(); SET customer_id3 = UUID(); SET credit_id1 = UUID(); SET credit_id2 = UUID(); SET credit_id3 = UUID(); SET credit_proposal_id1 = UUID(); SET credit_proposal_id2 = UUID(); DELETE FROM payments; DELETE FROM credit_proposals; DELETE FROM credits; DELETE FROM customers; DELETE FROM banks; INSERT INTO banks (id) VALUES (bank_id1), (bank_id2); INSERT INTO customers (id, fio, phone_number, email, passport_number, bank_id) VALUES (customer_id1, '\u041a\u0443\u0437\u043d\u0435\u0446\u043e\u0432 \u041c\u0430\u043a\u0441\u0438\u043c \u0420\u043e\u043c\u0430\u043d\u043e\u0432\u0438\u0447', '892496599429', 'yf.bos@gmail.com', '968738651', bank_id1), (customer_id2, '\u0410\u0440\u0445\u0438\u043f\u043e\u0432 \u041c\u0430\u0442\u0432\u0435\u0439 \u0410\u043b\u044c\u0431\u0435\u0440\u0442\u043e\u0432\u0438\u0447', '892439700081', 'ds.gdr@gmail.com', '752010981', bank_id1), (customer_id3, '\u0412\u043e\u0440\u043e\u043d\u0438\u043d \u0410\u043b\u0435\u043a\u0441\u0435\u0439 \u0412\u0430\u0441\u0438\u043b\u044c\u0435\u0432\u0438\u0447', '892434918433', 'sa.fds@gmail.com', '456656525', bank_id2); INSERT INTO credits (id, limit, interest_rate, bank_id) VALUES (credit_id1, 250000, 20, bank_id1), (credit_id2, 500000, 15.5, bank_id1), (credit_id3, 750000, 10.5, bank_id2); INSERT INTO credit_proposals (id, credit_amount, customer_id, credit_id) VALUES (credit_proposal_id1, 250000, customer_id2, credit_id2), (credit_proposal_id2, 544333, customer_id3, credit_id3); INSERT INTO payments (id, date, total_amount, amount_of_credit_body_repayment, amount_of_interest_repayment, credit_proposal_id) VALUES (UUID(), '2021-05-25', 22623.6, 19394.44, 3229.17, credit_proposal_id1), (UUID(), '2021-06-25', 22623.6, 19644.95, 2978.66, credit_proposal_id1), (UUID(), '2021-07-25', 22623.6, 19898.7, 2724.91, credit_proposal_id1), (UUID(), '2021-08-25', 22623.6, 20155.72, 2467.88, credit_proposal_id1), (UUID(), '2021-09-25', 22623.6, 20416.07, 2207.54, credit_proposal_id1), (UUID(), '2021-10-25', 22623.6, 20679.77, 1943.83, credit_proposal_id1), (UUID(), '2021-11-25', 22623.6, 20946.89, 1676.72, credit_proposal_id1), (UUID(), '2021-12-25', 22623.6, 21217.45, 1406.15, credit_proposal_id1), (UUID(), '2022-01-25', 22623.6, 21491.51, 1132.09, credit_proposal_id1), (UUID(), '2022-02-25', 22623.6, 21769.11, 854.5, credit_proposal_id1), (UUID(), '2022-03-25', 22623.6, 22050.29, 573.31, credit_proposal_id1), (UUID(), '2022-04-25', 22623.6, 22335.11, 288.5, credit_proposal_id1), (UUID(), '2021-06-25', 50424.02, 41351.8, 9072.22, credit_proposal_id2), (UUID(), '2021-07-25', 50424.02, 42041, 8383.02, credit_proposal_id2), (UUID(), '2021-08-25', 50424.02, 42741.68, 7682.34, credit_proposal_id2), (UUID(), '2021-09-25', 50424.02, 43454.04, 6969.98, credit_proposal_id2), (UUID(), '2021-10-25', 50424.02, 44178.28, 6245.74, credit_proposal_id2), (UUID(), '2021-11-25', 50424.02, 44914.58, 5509.44, credit_proposal_id2), (UUID(), '2021-12-25', 50424.02, 45663.16, 4760.86, credit_proposal_id2), (UUID(), '2022-01-25', 50424.02, 46424.21, 3999.81, credit_proposal_id2), (UUID(), '2022-02-25', 50424.02, 47197.95, 3226.07, credit_proposal_id2), (UUID(), '2022-03-25', 50424.02, 47984.58, 2439.44, credit_proposal_id2), (UUID(), '2022-04-25', 50424.02, 48784.32, 1639.7, credit_proposal_id2), (UUID(), '2022-04-25', 50424.02, 49597.4, 826.62, credit_proposal_id2); END
INSERT INTO BANKS VALUES('c3ff1791-4970-494d-8b1a-1697664610d4')
INSERT INTO BANKS VALUES('b200b420-5651-4cd9-bea7-10adfa7f316f')
INSERT INTO CUSTOMERS VALUES('1f8d1e96-ebcf-443a-8e1a-b463d969d9f0','\u041a\u0443\u0437\u043d\u0435\u0446\u043e\u0432 \u041c\u0430\u043a\u0441\u0438\u043c \u0420\u043e\u043c\u0430\u043d\u043e\u0432\u0438\u0447','892496599429','yf.bos@gmail.com','968738651','c3ff1791-4970-494d-8b1a-1697664610d4')
INSERT INTO CUSTOMERS VALUES('cd0a4c09-0274-4d4d-b184-c6b91e89946e','\u0410\u0440\u0445\u0438\u043f\u043e\u0432 \u041c\u0430\u0442\u0432\u0435\u0439 \u0410\u043b\u044c\u0431\u0435\u0440\u0442\u043e\u0432\u0438\u0447','892439700081','ds.gdr@gmail.com','752010981','c3ff1791-4970-494d-8b1a-1697664610d4')
INSERT INTO CUSTOMERS VALUES('bdc0e3cf-4d5a-4773-be97-79bbbc9ca97e','\u0412\u043e\u0440\u043e\u043d\u0438\u043d \u0410\u043b\u0435\u043a\u0441\u0435\u0439 \u0412\u0430\u0441\u0438\u043b\u044c\u0435\u0432\u0438\u0447','892434918433','sa.fds@gmail.com','456656525','b200b420-5651-4cd9-bea7-10adfa7f316f')
INSERT INTO CREDITS VALUES('42738c8d-bc88-48be-a110-e975760f169f',250000.00,20.00,'c3ff1791-4970-494d-8b1a-1697664610d4')
INSERT INTO CREDITS VALUES('686124c1-0b75-4a08-b817-2089981a1b5e',500000.00,15.50,'c3ff1791-4970-494d-8b1a-1697664610d4')
INSERT INTO CREDITS VALUES('476abd0c-278f-4f53-91f6-5572aee6bd03',750000.00,10.50,'b200b420-5651-4cd9-bea7-10adfa7f316f')
INSERT INTO CREDIT_PROPOSALS VALUES('30b548e2-31d1-488c-ab39-b7a99609b8de',250000.00,'cd0a4c09-0274-4d4d-b184-c6b91e89946e','686124c1-0b75-4a08-b817-2089981a1b5e')
INSERT INTO CREDIT_PROPOSALS VALUES('868204c5-b513-4362-a731-4b989fd61903',544333.00,'bdc0e3cf-4d5a-4773-be97-79bbbc9ca97e','476abd0c-278f-4f53-91f6-5572aee6bd03')
INSERT INTO PAYMENTS VALUES('14356d22-685e-4619-8da8-7a9b66233bbc','2021-05-25',22623.60,19394.44,3229.17,'30b548e2-31d1-488c-ab39-b7a99609b8de')
INSERT INTO PAYMENTS VALUES('7bc2bf78-48ef-473c-9450-5cd7438c7885','2021-06-25',22623.60,19644.95,2978.66,'30b548e2-31d1-488c-ab39-b7a99609b8de')
INSERT INTO PAYMENTS VALUES('6ad5376b-1752-4bc1-b14d-85a4457f0711','2021-07-25',22623.60,19898.70,2724.91,'30b548e2-31d1-488c-ab39-b7a99609b8de')
INSERT INTO PAYMENTS VALUES('647c6e25-7ad2-455d-82f4-711847cbdece','2021-08-25',22623.60,20155.72,2467.88,'30b548e2-31d1-488c-ab39-b7a99609b8de')
INSERT INTO PAYMENTS VALUES('66a53ddc-ecf1-4406-96c7-1cf3aebfa14a','2021-09-25',22623.60,20416.07,2207.54,'30b548e2-31d1-488c-ab39-b7a99609b8de')
INSERT INTO PAYMENTS VALUES('f2782807-0195-46c4-bca3-896345f833ae','2021-10-25',22623.60,20679.77,1943.83,'30b548e2-31d1-488c-ab39-b7a99609b8de')
INSERT INTO PAYMENTS VALUES('1c90a226-9306-43c0-8886-ea27f1cdaa11','2021-11-25',22623.60,20946.89,1676.72,'30b548e2-31d1-488c-ab39-b7a99609b8de')
INSERT INTO PAYMENTS VALUES('3e34f871-3305-4f6d-8eb7-49e92dda794a','2021-12-25',22623.60,21217.45,1406.15,'30b548e2-31d1-488c-ab39-b7a99609b8de')
INSERT INTO PAYMENTS VALUES('828d5692-ae50-4f40-b441-9d5f329b2e0b','2022-01-25',22623.60,21491.51,1132.09,'30b548e2-31d1-488c-ab39-b7a99609b8de')
INSERT INTO PAYMENTS VALUES('cb73d7c1-8d7c-41c5-857e-441b346f569b','2022-02-25',22623.60,21769.11,854.50,'30b548e2-31d1-488c-ab39-b7a99609b8de')
INSERT INTO PAYMENTS VALUES('54c000e3-1858-4143-91dc-d80c0a972dc5','2022-03-25',22623.60,22050.29,573.31,'30b548e2-31d1-488c-ab39-b7a99609b8de')
INSERT INTO PAYMENTS VALUES('9f37ec0d-0fa4-454b-916e-c9a5e69a1081','2022-04-25',22623.60,22335.11,288.50,'30b548e2-31d1-488c-ab39-b7a99609b8de')
INSERT INTO PAYMENTS VALUES('ecc4f37d-5457-45c7-8852-b0fd6a527b66','2021-06-25',50424.02,41351.80,9072.22,'868204c5-b513-4362-a731-4b989fd61903')
INSERT INTO PAYMENTS VALUES('18fcdbf5-dc5b-4655-864a-65d166b6225a','2021-07-25',50424.02,42041.00,8383.02,'868204c5-b513-4362-a731-4b989fd61903')
INSERT INTO PAYMENTS VALUES('17daee24-fa0c-417b-ba77-fca2818f0562','2021-08-25',50424.02,42741.68,7682.34,'868204c5-b513-4362-a731-4b989fd61903')
INSERT INTO PAYMENTS VALUES('d7b742a4-4d06-49b2-810a-e61866f41f00','2021-09-25',50424.02,43454.04,6969.98,'868204c5-b513-4362-a731-4b989fd61903')
INSERT INTO PAYMENTS VALUES('b94d9278-a9e1-411f-9fbe-857233f4801d','2021-10-25',50424.02,44178.28,6245.74,'868204c5-b513-4362-a731-4b989fd61903')
INSERT INTO PAYMENTS VALUES('99fdf42d-afe4-4331-a825-9a9ec7db0e0a','2021-11-25',50424.02,44914.58,5509.44,'868204c5-b513-4362-a731-4b989fd61903')
INSERT INTO PAYMENTS VALUES('1f705b3d-d64f-4b08-a9a2-fc5e07882656','2021-12-25',50424.02,45663.16,4760.86,'868204c5-b513-4362-a731-4b989fd61903')
INSERT INTO PAYMENTS VALUES('6e652518-b6be-4abe-a3e3-028e21d24e1d','2022-01-25',50424.02,46424.21,3999.81,'868204c5-b513-4362-a731-4b989fd61903')
INSERT INTO PAYMENTS VALUES('da46d2c2-aaaf-4b33-acb3-4116f091daf1','2022-02-25',50424.02,47197.95,3226.07,'868204c5-b513-4362-a731-4b989fd61903')
INSERT INTO PAYMENTS VALUES('f851353a-5a8f-471a-af1e-71a77e5de0a1','2022-03-25',50424.02,47984.58,2439.44,'868204c5-b513-4362-a731-4b989fd61903')
INSERT INTO PAYMENTS VALUES('a6218962-8e2c-4e4b-bfa7-bcbfac80952c','2022-04-25',50424.02,48784.32,1639.70,'868204c5-b513-4362-a731-4b989fd61903')
INSERT INTO PAYMENTS VALUES('ebef15d2-83b8-4228-b183-edd19f73a7bc','2022-04-25',50424.02,49597.40,826.62,'868204c5-b513-4362-a731-4b989fd61903')
COMMIT
DISCONNECT
/*C5*/SET SCHEMA PUBLIC
DISCONNECT
/*C6*/SET SCHEMA PUBLIC
DISCONNECT
/*C7*/SET SCHEMA PUBLIC
DISCONNECT
/*C8*/SET SCHEMA PUBLIC
DISCONNECT
/*C9*/SET SCHEMA PUBLIC
DISCONNECT
/*C10*/SET SCHEMA PUBLIC
DISCONNECT
/*C11*/SET SCHEMA PUBLIC
DISCONNECT
/*C12*/SET SCHEMA PUBLIC
DISCONNECT
/*C13*/SET SCHEMA PUBLIC
DISCONNECT
/*C14*/SET SCHEMA PUBLIC
DISCONNECT
/*C15*/SET SCHEMA PUBLIC
DISCONNECT
/*C16*/SET SCHEMA PUBLIC
DISCONNECT
/*C17*/SET SCHEMA PUBLIC
DISCONNECT
/*C18*/SET SCHEMA PUBLIC
DISCONNECT
/*C19*/SET SCHEMA PUBLIC
DISCONNECT
/*C20*/SET SCHEMA PUBLIC
DELETE FROM CREDIT_PROPOSALS WHERE ID='30b548e2-31d1-488c-ab39-b7a99609b8de'
DELETE FROM PAYMENTS WHERE ID='14356d22-685e-4619-8da8-7a9b66233bbc'
DELETE FROM PAYMENTS WHERE ID='7bc2bf78-48ef-473c-9450-5cd7438c7885'
DELETE FROM PAYMENTS WHERE ID='6ad5376b-1752-4bc1-b14d-85a4457f0711'
DELETE FROM PAYMENTS WHERE ID='647c6e25-7ad2-455d-82f4-711847cbdece'
DELETE FROM PAYMENTS WHERE ID='66a53ddc-ecf1-4406-96c7-1cf3aebfa14a'
DELETE FROM PAYMENTS WHERE ID='f2782807-0195-46c4-bca3-896345f833ae'
DELETE FROM PAYMENTS WHERE ID='1c90a226-9306-43c0-8886-ea27f1cdaa11'
DELETE FROM PAYMENTS WHERE ID='3e34f871-3305-4f6d-8eb7-49e92dda794a'
DELETE FROM PAYMENTS WHERE ID='828d5692-ae50-4f40-b441-9d5f329b2e0b'
DELETE FROM PAYMENTS WHERE ID='cb73d7c1-8d7c-41c5-857e-441b346f569b'
DELETE FROM PAYMENTS WHERE ID='54c000e3-1858-4143-91dc-d80c0a972dc5'
DELETE FROM PAYMENTS WHERE ID='9f37ec0d-0fa4-454b-916e-c9a5e69a1081'
COMMIT
DISCONNECT
/*C21*/SET SCHEMA PUBLIC
DISCONNECT
/*C22*/SET SCHEMA PUBLIC
DISCONNECT
/*C23*/SET SCHEMA PUBLIC
DISCONNECT
/*C24*/SET SCHEMA PUBLIC
DISCONNECT
/*C25*/SET SCHEMA PUBLIC
DISCONNECT
/*C26*/SET SCHEMA PUBLIC
DISCONNECT
/*C27*/SET SCHEMA PUBLIC
DISCONNECT
/*C3*/SET SCHEMA PUBLIC
DISCONNECT
/*C4*/SET SCHEMA PUBLIC
DROP TABLE payments IF EXISTS CASCADE
DROP TABLE credit_proposals IF EXISTS CASCADE
DROP TABLE credits IF EXISTS
DROP TABLE customers IF EXISTS
DROP TABLE banks IF EXISTS
CREATE TABLE banks ( id UUID PRIMARY KEY )
CREATE TABLE customers ( id UUID PRIMARY KEY, fio VARCHAR(255) NOT NULL, phone_number VARCHAR(255) NOT NULL, email VARCHAR(255) NOT NULL, passport_number VARCHAR(255) NOT NULL, bank_id UUID NOT NULL, FOREIGN KEY (bank_id) REFERENCES banks (id) ON DELETE CASCADE )
CREATE TABLE credits ( id UUID PRIMARY KEY, limit DECIMAL(19,2) NOT NULL, interest_rate DECIMAL(19,2) NOT NULL, bank_id UUID NOT NULL, FOREIGN KEY (bank_id) REFERENCES banks (id) ON DELETE CASCADE )
CREATE TABLE credit_proposals ( id UUID PRIMARY KEY, credit_amount DECIMAL(19,2) NOT NULL, customer_id UUID NOT NULL, credit_id UUID NOT NULL, FOREIGN KEY (customer_id) REFERENCES customers (id) ON DELETE CASCADE, FOREIGN KEY (credit_id) REFERENCES credits (id) ON DELETE CASCADE )
CREATE TABLE payments ( id UUID PRIMARY KEY, date Date NOT NULL, total_amount Decimal(19,2) NOT NULL, amount_of_credit_body_repayment Decimal(19,2) NOT NULL, amount_of_interest_repayment Decimal(19,2) NOT NULL, credit_proposal_id UUID NOT NULL, FOREIGN KEY (credit_proposal_id) REFERENCES credit_proposals (id) ON DELETE CASCADE )
DROP PROCEDURE populate_db IF EXISTS
CREATE PROCEDURE populate_db() MODIFIES SQL DATA BEGIN ATOMIC DECLARE bank_id1, bank_id2, customer_id1, customer_id2, customer_id3, credit_id1, credit_id2, credit_id3, credit_proposal_id1, credit_proposal_id2 UUID; SET bank_id1 = UUID(); SET bank_id2 = UUID(); SET customer_id1 = UUID(); SET customer_id2 = UUID(); SET customer_id3 = UUID(); SET credit_id1 = UUID(); SET credit_id2 = UUID(); SET credit_id3 = UUID(); SET credit_proposal_id1 = UUID(); SET credit_proposal_id2 = UUID(); DELETE FROM payments; DELETE FROM credit_proposals; DELETE FROM credits; DELETE FROM customers; DELETE FROM banks; INSERT INTO banks (id) VALUES (bank_id1), (bank_id2); INSERT INTO customers (id, fio, phone_number, email, passport_number, bank_id) VALUES (customer_id1, '\u041a\u0443\u0437\u043d\u0435\u0446\u043e\u0432 \u041c\u0430\u043a\u0441\u0438\u043c \u0420\u043e\u043c\u0430\u043d\u043e\u0432\u0438\u0447', '892496599429', 'yf.bos@gmail.com', '968738651', bank_id1), (customer_id2, '\u0410\u0440\u0445\u0438\u043f\u043e\u0432 \u041c\u0430\u0442\u0432\u0435\u0439 \u0410\u043b\u044c\u0431\u0435\u0440\u0442\u043e\u0432\u0438\u0447', '892439700081', 'ds.gdr@gmail.com', '752010981', bank_id1), (customer_id3, '\u0412\u043e\u0440\u043e\u043d\u0438\u043d \u0410\u043b\u0435\u043a\u0441\u0435\u0439 \u0412\u0430\u0441\u0438\u043b\u044c\u0435\u0432\u0438\u0447', '892434918433', 'sa.fds@gmail.com', '456656525', bank_id2); INSERT INTO credits (id, limit, interest_rate, bank_id) VALUES (credit_id1, 250000, 20, bank_id1), (credit_id2, 500000, 15.5, bank_id1), (credit_id3, 750000, 10.5, bank_id2); INSERT INTO credit_proposals (id, credit_amount, customer_id, credit_id) VALUES (credit_proposal_id1, 250000, customer_id2, credit_id2), (credit_proposal_id2, 544333, customer_id3, credit_id3); INSERT INTO payments (id, date, total_amount, amount_of_credit_body_repayment, amount_of_interest_repayment, credit_proposal_id) VALUES (UUID(), '2021-05-25', 22623.6, 19394.44, 3229.17, credit_proposal_id1), (UUID(), '2021-06-25', 22623.6, 19644.95, 2978.66, credit_proposal_id1), (UUID(), '2021-07-25', 22623.6, 19898.7, 2724.91, credit_proposal_id1), (UUID(), '2021-08-25', 22623.6, 20155.72, 2467.88, credit_proposal_id1), (UUID(), '2021-09-25', 22623.6, 20416.07, 2207.54, credit_proposal_id1), (UUID(), '2021-10-25', 22623.6, 20679.77, 1943.83, credit_proposal_id1), (UUID(), '2021-11-25', 22623.6, 20946.89, 1676.72, credit_proposal_id1), (UUID(), '2021-12-25', 22623.6, 21217.45, 1406.15, credit_proposal_id1), (UUID(), '2022-01-25', 22623.6, 21491.51, 1132.09, credit_proposal_id1), (UUID(), '2022-02-25', 22623.6, 21769.11, 854.5, credit_proposal_id1), (UUID(), '2022-03-25', 22623.6, 22050.29, 573.31, credit_proposal_id1), (UUID(), '2022-04-25', 22623.6, 22335.11, 288.5, credit_proposal_id1), (UUID(), '2021-06-25', 50424.02, 41351.8, 9072.22, credit_proposal_id2), (UUID(), '2021-07-25', 50424.02, 42041, 8383.02, credit_proposal_id2), (UUID(), '2021-08-25', 50424.02, 42741.68, 7682.34, credit_proposal_id2), (UUID(), '2021-09-25', 50424.02, 43454.04, 6969.98, credit_proposal_id2), (UUID(), '2021-10-25', 50424.02, 44178.28, 6245.74, credit_proposal_id2), (UUID(), '2021-11-25', 50424.02, 44914.58, 5509.44, credit_proposal_id2), (UUID(), '2021-12-25', 50424.02, 45663.16, 4760.86, credit_proposal_id2), (UUID(), '2022-01-25', 50424.02, 46424.21, 3999.81, credit_proposal_id2), (UUID(), '2022-02-25', 50424.02, 47197.95, 3226.07, credit_proposal_id2), (UUID(), '2022-03-25', 50424.02, 47984.58, 2439.44, credit_proposal_id2), (UUID(), '2022-04-25', 50424.02, 48784.32, 1639.7, credit_proposal_id2), (UUID(), '2022-04-25', 50424.02, 49597.4, 826.62, credit_proposal_id2); END
INSERT INTO BANKS VALUES('f5044d21-2c9e-4069-8985-f065cbfcbd10')
INSERT INTO BANKS VALUES('0005a45a-a6a7-4bb7-ae25-391f2c158f61')
INSERT INTO CUSTOMERS VALUES('67df2d10-5d48-47a5-8b43-fafb4a8b7445','\u041a\u0443\u0437\u043d\u0435\u0446\u043e\u0432 \u041c\u0430\u043a\u0441\u0438\u043c \u0420\u043e\u043c\u0430\u043d\u043e\u0432\u0438\u0447','892496599429','yf.bos@gmail.com','968738651','f5044d21-2c9e-4069-8985-f065cbfcbd10')
INSERT INTO CUSTOMERS VALUES('6652e9ce-dddd-4ff1-8d6a-9367ff70b2c5','\u0410\u0440\u0445\u0438\u043f\u043e\u0432 \u041c\u0430\u0442\u0432\u0435\u0439 \u0410\u043b\u044c\u0431\u0435\u0440\u0442\u043e\u0432\u0438\u0447','892439700081','ds.gdr@gmail.com','752010981','f5044d21-2c9e-4069-8985-f065cbfcbd10')
INSERT INTO CUSTOMERS VALUES('716aa3ef-fa09-4711-8a39-5a927b7b3574','\u0412\u043e\u0440\u043e\u043d\u0438\u043d \u0410\u043b\u0435\u043a\u0441\u0435\u0439 \u0412\u0430\u0441\u0438\u043b\u044c\u0435\u0432\u0438\u0447','892434918433','sa.fds@gmail.com','456656525','0005a45a-a6a7-4bb7-ae25-391f2c158f61')
INSERT INTO CREDITS VALUES('1a1b691a-6a92-48d6-9bf1-70e1bf6ea213',250000.00,20.00,'f5044d21-2c9e-4069-8985-f065cbfcbd10')
INSERT INTO CREDITS VALUES('b5bba92e-0425-41d2-809d-da6d60367114',500000.00,15.50,'f5044d21-2c9e-4069-8985-f065cbfcbd10')
INSERT INTO CREDITS VALUES('027bfda6-4737-431a-b0a5-f5f1b236c3d8',750000.00,10.50,'0005a45a-a6a7-4bb7-ae25-391f2c158f61')
INSERT INTO CREDIT_PROPOSALS VALUES('9d7fc734-8d87-49eb-9530-9d5ac3509080',250000.00,'6652e9ce-dddd-4ff1-8d6a-9367ff70b2c5','b5bba92e-0425-41d2-809d-da6d60367114')
INSERT INTO CREDIT_PROPOSALS VALUES('2939e663-0bd0-4005-a42d-0bf95a3deafa',544333.00,'716aa3ef-fa09-4711-8a39-5a927b7b3574','027bfda6-4737-431a-b0a5-f5f1b236c3d8')
INSERT INTO PAYMENTS VALUES('07aa9e48-7e80-4b6d-aeb3-c04817173c3f','2021-05-25',22623.60,19394.44,3229.17,'9d7fc734-8d87-49eb-9530-9d5ac3509080')
INSERT INTO PAYMENTS VALUES('c63105dd-4ae5-4c85-b3b3-a2ffba0ff485','2021-06-25',22623.60,19644.95,2978.66,'9d7fc734-8d87-49eb-9530-9d5ac3509080')
INSERT INTO PAYMENTS VALUES('3643a2ab-236f-4cb2-ac1f-af1d989e37b3','2021-07-25',22623.60,19898.70,2724.91,'9d7fc734-8d87-49eb-9530-9d5ac3509080')
INSERT INTO PAYMENTS VALUES('fa084b35-947e-4a72-9c5f-231a42e17732','2021-08-25',22623.60,20155.72,2467.88,'9d7fc734-8d87-49eb-9530-9d5ac3509080')
INSERT INTO PAYMENTS VALUES('3f9bad11-e354-421e-8a9f-9e7639ce8a7d','2021-09-25',22623.60,20416.07,2207.54,'9d7fc734-8d87-49eb-9530-9d5ac3509080')
INSERT INTO PAYMENTS VALUES('d00287ae-39cf-4776-990c-fae4dbc7f03c','2021-10-25',22623.60,20679.77,1943.83,'9d7fc734-8d87-49eb-9530-9d5ac3509080')
INSERT INTO PAYMENTS VALUES('2519ba80-43e8-4ce0-ae5d-c81ab8776353','2021-11-25',22623.60,20946.89,1676.72,'9d7fc734-8d87-49eb-9530-9d5ac3509080')
INSERT INTO PAYMENTS VALUES('19dbd1d4-4160-4553-afe4-377533c93c8f','2021-12-25',22623.60,21217.45,1406.15,'9d7fc734-8d87-49eb-9530-9d5ac3509080')
INSERT INTO PAYMENTS VALUES('45b84a41-9d34-4ac2-83b0-09bf5d7c36a1','2022-01-25',22623.60,21491.51,1132.09,'9d7fc734-8d87-49eb-9530-9d5ac3509080')
INSERT INTO PAYMENTS VALUES('77d4d784-1413-49e7-b89f-b58e7d588c22','2022-02-25',22623.60,21769.11,854.50,'9d7fc734-8d87-49eb-9530-9d5ac3509080')
INSERT INTO PAYMENTS VALUES('65a81e44-b573-411c-9cc6-39616e09a824','2022-03-25',22623.60,22050.29,573.31,'9d7fc734-8d87-49eb-9530-9d5ac3509080')
INSERT INTO PAYMENTS VALUES('c9e871cf-8163-434d-bb09-710bcc704b32','2022-04-25',22623.60,22335.11,288.50,'9d7fc734-8d87-49eb-9530-9d5ac3509080')
INSERT INTO PAYMENTS VALUES('f1908ab5-0483-4477-89a3-f1272f6073f9','2021-06-25',50424.02,41351.80,9072.22,'2939e663-0bd0-4005-a42d-0bf95a3deafa')
INSERT INTO PAYMENTS VALUES('ec623422-456a-433b-a34e-a452311331e8','2021-07-25',50424.02,42041.00,8383.02,'2939e663-0bd0-4005-a42d-0bf95a3deafa')
INSERT INTO PAYMENTS VALUES('40e1e494-0142-463e-97c2-a7dff22e07c9','2021-08-25',50424.02,42741.68,7682.34,'2939e663-0bd0-4005-a42d-0bf95a3deafa')
INSERT INTO PAYMENTS VALUES('6b520012-d7a4-4fa5-bbbe-3b7a22f3f5d2','2021-09-25',50424.02,43454.04,6969.98,'2939e663-0bd0-4005-a42d-0bf95a3deafa')
INSERT INTO PAYMENTS VALUES('553196a1-9528-4b0a-889f-73b70627ae7b','2021-10-25',50424.02,44178.28,6245.74,'2939e663-0bd0-4005-a42d-0bf95a3deafa')
INSERT INTO PAYMENTS VALUES('f2af53b1-0543-434b-a7e3-4252b79931cd','2021-11-25',50424.02,44914.58,5509.44,'2939e663-0bd0-4005-a42d-0bf95a3deafa')
INSERT INTO PAYMENTS VALUES('6f8c1aaa-dd68-4855-98a1-6f07f7b9e0da','2021-12-25',50424.02,45663.16,4760.86,'2939e663-0bd0-4005-a42d-0bf95a3deafa')
INSERT INTO PAYMENTS VALUES('3bf80160-e8cb-4ed8-bea3-727f99748d6c','2022-01-25',50424.02,46424.21,3999.81,'2939e663-0bd0-4005-a42d-0bf95a3deafa')
INSERT INTO PAYMENTS VALUES('2a7fe5d7-5472-436f-a859-513b98968914','2022-02-25',50424.02,47197.95,3226.07,'2939e663-0bd0-4005-a42d-0bf95a3deafa')
INSERT INTO PAYMENTS VALUES('b6205bc2-7d5b-4785-8eed-62d9102bd1d6','2022-03-25',50424.02,47984.58,2439.44,'2939e663-0bd0-4005-a42d-0bf95a3deafa')
INSERT INTO PAYMENTS VALUES('1c71fe55-85d9-43ec-b2d8-d6ec3f8880ae','2022-04-25',50424.02,48784.32,1639.70,'2939e663-0bd0-4005-a42d-0bf95a3deafa')
INSERT INTO PAYMENTS VALUES('2d489ed9-dff3-4396-ae14-8cdc981183b1','2022-04-25',50424.02,49597.40,826.62,'2939e663-0bd0-4005-a42d-0bf95a3deafa')
COMMIT
DISCONNECT
/*C5*/SET SCHEMA PUBLIC
DISCONNECT
/*C6*/SET SCHEMA PUBLIC
DISCONNECT
/*C3*/SET SCHEMA PUBLIC
DISCONNECT
/*C4*/SET SCHEMA PUBLIC
DROP TABLE payments IF EXISTS CASCADE
DROP TABLE credit_proposals IF EXISTS CASCADE
DROP TABLE credits IF EXISTS
DROP TABLE customers IF EXISTS
DROP TABLE banks IF EXISTS
CREATE TABLE banks ( id UUID PRIMARY KEY )
CREATE TABLE customers ( id UUID PRIMARY KEY, fio VARCHAR(255) NOT NULL, phone_number VARCHAR(255) NOT NULL, email VARCHAR(255) NOT NULL, passport_number VARCHAR(255) NOT NULL, bank_id UUID NOT NULL, FOREIGN KEY (bank_id) REFERENCES banks (id) ON DELETE CASCADE )
CREATE TABLE credits ( id UUID PRIMARY KEY, limit DECIMAL(19,2) NOT NULL, interest_rate DECIMAL(19,2) NOT NULL, bank_id UUID NOT NULL, FOREIGN KEY (bank_id) REFERENCES banks (id) ON DELETE CASCADE )
CREATE TABLE credit_proposals ( id UUID PRIMARY KEY, credit_amount DECIMAL(19,2) NOT NULL, customer_id UUID NOT NULL, credit_id UUID NOT NULL, FOREIGN KEY (customer_id) REFERENCES customers (id) ON DELETE CASCADE, FOREIGN KEY (credit_id) REFERENCES credits (id) ON DELETE CASCADE )
CREATE TABLE payments ( id UUID PRIMARY KEY, date Date NOT NULL, total_amount Decimal(19,2) NOT NULL, amount_of_credit_body_repayment Decimal(19,2) NOT NULL, amount_of_interest_repayment Decimal(19,2) NOT NULL, credit_proposal_id UUID NOT NULL, FOREIGN KEY (credit_proposal_id) REFERENCES credit_proposals (id) ON DELETE CASCADE )
DROP PROCEDURE populate_db IF EXISTS
CREATE PROCEDURE populate_db() MODIFIES SQL DATA BEGIN ATOMIC DECLARE bank_id1, bank_id2, customer_id1, customer_id2, customer_id3, credit_id1, credit_id2, credit_id3, credit_proposal_id1, credit_proposal_id2 UUID; SET bank_id1 = UUID(); SET bank_id2 = UUID(); SET customer_id1 = UUID(); SET customer_id2 = UUID(); SET customer_id3 = UUID(); SET credit_id1 = UUID(); SET credit_id2 = UUID(); SET credit_id3 = UUID(); SET credit_proposal_id1 = UUID(); SET credit_proposal_id2 = UUID(); DELETE FROM payments; DELETE FROM credit_proposals; DELETE FROM credits; DELETE FROM customers; DELETE FROM banks; INSERT INTO banks (id) VALUES (bank_id1), (bank_id2); INSERT INTO customers (id, fio, phone_number, email, passport_number, bank_id) VALUES (customer_id1, '\u041a\u0443\u0437\u043d\u0435\u0446\u043e\u0432 \u041c\u0430\u043a\u0441\u0438\u043c \u0420\u043e\u043c\u0430\u043d\u043e\u0432\u0438\u0447', '892496599429', 'yf.bos@gmail.com', '968738651', bank_id1), (customer_id2, '\u0410\u0440\u0445\u0438\u043f\u043e\u0432 \u041c\u0430\u0442\u0432\u0435\u0439 \u0410\u043b\u044c\u0431\u0435\u0440\u0442\u043e\u0432\u0438\u0447', '892439700081', 'ds.gdr@gmail.com', '752010981', bank_id1), (customer_id3, '\u0412\u043e\u0440\u043e\u043d\u0438\u043d \u0410\u043b\u0435\u043a\u0441\u0435\u0439 \u0412\u0430\u0441\u0438\u043b\u044c\u0435\u0432\u0438\u0447', '892434918433', 'sa.fds@gmail.com', '456656525', bank_id2); INSERT INTO credits (id, limit, interest_rate, bank_id) VALUES (credit_id1, 250000, 20, bank_id1), (credit_id2, 500000, 15.5, bank_id1), (credit_id3, 750000, 10.5, bank_id2); INSERT INTO credit_proposals (id, credit_amount, customer_id, credit_id) VALUES (credit_proposal_id1, 250000, customer_id2, credit_id2), (credit_proposal_id2, 544333, customer_id3, credit_id3); INSERT INTO payments (id, date, total_amount, amount_of_credit_body_repayment, amount_of_interest_repayment, credit_proposal_id) VALUES (UUID(), '2021-05-25', 22623.6, 19394.44, 3229.17, credit_proposal_id1), (UUID(), '2021-06-25', 22623.6, 19644.95, 2978.66, credit_proposal_id1), (UUID(), '2021-07-25', 22623.6, 19898.7, 2724.91, credit_proposal_id1), (UUID(), '2021-08-25', 22623.6, 20155.72, 2467.88, credit_proposal_id1), (UUID(), '2021-09-25', 22623.6, 20416.07, 2207.54, credit_proposal_id1), (UUID(), '2021-10-25', 22623.6, 20679.77, 1943.83, credit_proposal_id1), (UUID(), '2021-11-25', 22623.6, 20946.89, 1676.72, credit_proposal_id1), (UUID(), '2021-12-25', 22623.6, 21217.45, 1406.15, credit_proposal_id1), (UUID(), '2022-01-25', 22623.6, 21491.51, 1132.09, credit_proposal_id1), (UUID(), '2022-02-25', 22623.6, 21769.11, 854.5, credit_proposal_id1), (UUID(), '2022-03-25', 22623.6, 22050.29, 573.31, credit_proposal_id1), (UUID(), '2022-04-25', 22623.6, 22335.11, 288.5, credit_proposal_id1), (UUID(), '2021-06-25', 50424.02, 41351.8, 9072.22, credit_proposal_id2), (UUID(), '2021-07-25', 50424.02, 42041, 8383.02, credit_proposal_id2), (UUID(), '2021-08-25', 50424.02, 42741.68, 7682.34, credit_proposal_id2), (UUID(), '2021-09-25', 50424.02, 43454.04, 6969.98, credit_proposal_id2), (UUID(), '2021-10-25', 50424.02, 44178.28, 6245.74, credit_proposal_id2), (UUID(), '2021-11-25', 50424.02, 44914.58, 5509.44, credit_proposal_id2), (UUID(), '2021-12-25', 50424.02, 45663.16, 4760.86, credit_proposal_id2), (UUID(), '2022-01-25', 50424.02, 46424.21, 3999.81, credit_proposal_id2), (UUID(), '2022-02-25', 50424.02, 47197.95, 3226.07, credit_proposal_id2), (UUID(), '2022-03-25', 50424.02, 47984.58, 2439.44, credit_proposal_id2), (UUID(), '2022-04-25', 50424.02, 48784.32, 1639.7, credit_proposal_id2), (UUID(), '2022-04-25', 50424.02, 49597.4, 826.62, credit_proposal_id2); END
INSERT INTO BANKS VALUES('1a27f724-6b67-414a-adb4-d1a4e6e08338')
INSERT INTO BANKS VALUES('704f6dc7-a95c-4d09-8a7c-b61b67ce0182')
INSERT INTO CUSTOMERS VALUES('ee87cc0e-b869-4c5b-b60c-22a6853457df','\u041a\u0443\u0437\u043d\u0435\u0446\u043e\u0432 \u041c\u0430\u043a\u0441\u0438\u043c \u0420\u043e\u043c\u0430\u043d\u043e\u0432\u0438\u0447','892496599429','yf.bos@gmail.com','968738651','1a27f724-6b67-414a-adb4-d1a4e6e08338')
INSERT INTO CUSTOMERS VALUES('aab6d7a5-6108-496a-acf3-e2be7c8587ba','\u0410\u0440\u0445\u0438\u043f\u043e\u0432 \u041c\u0430\u0442\u0432\u0435\u0439 \u0410\u043b\u044c\u0431\u0435\u0440\u0442\u043e\u0432\u0438\u0447','892439700081','ds.gdr@gmail.com','752010981','1a27f724-6b67-414a-adb4-d1a4e6e08338')
INSERT INTO CUSTOMERS VALUES('2695bfa0-c3cd-4010-8f89-23eb262db1ac','\u0412\u043e\u0440\u043e\u043d\u0438\u043d \u0410\u043b\u0435\u043a\u0441\u0435\u0439 \u0412\u0430\u0441\u0438\u043b\u044c\u0435\u0432\u0438\u0447','892434918433','sa.fds@gmail.com','456656525','704f6dc7-a95c-4d09-8a7c-b61b67ce0182')
INSERT INTO CREDITS VALUES('278bd905-7f75-4765-bd79-7cc02833cc34',250000.00,20.00,'1a27f724-6b67-414a-adb4-d1a4e6e08338')
INSERT INTO CREDITS VALUES('caad2e92-5e67-4588-a636-09aa96faa5d0',500000.00,15.50,'1a27f724-6b67-414a-adb4-d1a4e6e08338')
INSERT INTO CREDITS VALUES('453e5361-3767-4fec-afd2-f6fc067d2092',750000.00,10.50,'704f6dc7-a95c-4d09-8a7c-b61b67ce0182')
INSERT INTO CREDIT_PROPOSALS VALUES('64c68593-89bd-4df1-824f-89b96849bfbf',250000.00,'aab6d7a5-6108-496a-acf3-e2be7c8587ba','caad2e92-5e67-4588-a636-09aa96faa5d0')
INSERT INTO CREDIT_PROPOSALS VALUES('856d8789-0cd7-4621-a330-ee6cb80b89ef',544333.00,'2695bfa0-c3cd-4010-8f89-23eb262db1ac','453e5361-3767-4fec-afd2-f6fc067d2092')
INSERT INTO PAYMENTS VALUES('c5114d7d-aae8-4bde-bd57-48468443dc47','2021-05-25',22623.60,19394.44,3229.17,'64c68593-89bd-4df1-824f-89b96849bfbf')
INSERT INTO PAYMENTS VALUES('3547a0c7-90e7-47d4-9c81-6eba4b2794d9','2021-06-25',22623.60,19644.95,2978.66,'64c68593-89bd-4df1-824f-89b96849bfbf')
INSERT INTO PAYMENTS VALUES('5dec81b0-dd4e-4723-b202-b927a67774de','2021-07-25',22623.60,19898.70,2724.91,'64c68593-89bd-4df1-824f-89b96849bfbf')
INSERT INTO PAYMENTS VALUES('0f7ca271-5661-45a7-b58c-c60c85b1e056','2021-08-25',22623.60,20155.72,2467.88,'64c68593-89bd-4df1-824f-89b96849bfbf')
INSERT INTO PAYMENTS VALUES('c964893b-a6d9-418b-9b0b-74e6b9e11334','2021-09-25',22623.60,20416.07,2207.54,'64c68593-89bd-4df1-824f-89b96849bfbf')
INSERT INTO PAYMENTS VALUES('81242164-43d1-44f9-8be3-4dfb851b434e','2021-10-25',22623.60,20679.77,1943.83,'64c68593-89bd-4df1-824f-89b96849bfbf')
INSERT INTO PAYMENTS VALUES('18cceeef-817a-4064-80b2-c23694bc743a','2021-11-25',22623.60,20946.89,1676.72,'64c68593-89bd-4df1-824f-89b96849bfbf')
INSERT INTO PAYMENTS VALUES('845ba5ee-277b-4da0-b25e-207624b494c9','2021-12-25',22623.60,21217.45,1406.15,'64c68593-89bd-4df1-824f-89b96849bfbf')
INSERT INTO PAYMENTS VALUES('241384fa-559e-443f-8bbc-461ab652097c','2022-01-25',22623.60,21491.51,1132.09,'64c68593-89bd-4df1-824f-89b96849bfbf')
INSERT INTO PAYMENTS VALUES('21a8bc82-dd66-4ed7-a60b-c3ee1d15787c','2022-02-25',22623.60,21769.11,854.50,'64c68593-89bd-4df1-824f-89b96849bfbf')
INSERT INTO PAYMENTS VALUES('609ec3c5-9c73-44ee-a505-ef74243603d4','2022-03-25',22623.60,22050.29,573.31,'64c68593-89bd-4df1-824f-89b96849bfbf')
INSERT INTO PAYMENTS VALUES('93bdf191-2de7-4d03-8bed-008ceb798596','2022-04-25',22623.60,22335.11,288.50,'64c68593-89bd-4df1-824f-89b96849bfbf')
INSERT INTO PAYMENTS VALUES('924b8834-dced-4f85-a5e8-84176746d9f7','2021-06-25',50424.02,41351.80,9072.22,'856d8789-0cd7-4621-a330-ee6cb80b89ef')
INSERT INTO PAYMENTS VALUES('48b341d6-16dd-476a-8b88-d4941963564a','2021-07-25',50424.02,42041.00,8383.02,'856d8789-0cd7-4621-a330-ee6cb80b89ef')
INSERT INTO PAYMENTS VALUES('10033337-dd9f-489f-89c0-0a91b2e893c3','2021-08-25',50424.02,42741.68,7682.34,'856d8789-0cd7-4621-a330-ee6cb80b89ef')
INSERT INTO PAYMENTS VALUES('592c9f32-0e1b-4240-9b45-f41f28bd6789','2021-09-25',50424.02,43454.04,6969.98,'856d8789-0cd7-4621-a330-ee6cb80b89ef')
INSERT INTO PAYMENTS VALUES('f082c5aa-8f78-48c1-8946-0b5fb7322d85','2021-10-25',50424.02,44178.28,6245.74,'856d8789-0cd7-4621-a330-ee6cb80b89ef')
INSERT INTO PAYMENTS VALUES('64cacd12-0fab-40a2-bf3b-e4d47bc9b7ed','2021-11-25',50424.02,44914.58,5509.44,'856d8789-0cd7-4621-a330-ee6cb80b89ef')
INSERT INTO PAYMENTS VALUES('8cbeb2c4-5c28-4e75-88ee-2ade1bf11a3d','2021-12-25',50424.02,45663.16,4760.86,'856d8789-0cd7-4621-a330-ee6cb80b89ef')
INSERT INTO PAYMENTS VALUES('5658d234-cde9-4464-9d90-5f9f7451d19d','2022-01-25',50424.02,46424.21,3999.81,'856d8789-0cd7-4621-a330-ee6cb80b89ef')
INSERT INTO PAYMENTS VALUES('17a51abb-383e-4f7e-bcb5-d194f51cf21f','2022-02-25',50424.02,47197.95,3226.07,'856d8789-0cd7-4621-a330-ee6cb80b89ef')
INSERT INTO PAYMENTS VALUES('c35a1afa-fb39-4147-ab0d-6e4c3b4481c7','2022-03-25',50424.02,47984.58,2439.44,'856d8789-0cd7-4621-a330-ee6cb80b89ef')
INSERT INTO PAYMENTS VALUES('75f31f1d-5bcb-4c88-b982-db816545bb6d','2022-04-25',50424.02,48784.32,1639.70,'856d8789-0cd7-4621-a330-ee6cb80b89ef')
INSERT INTO PAYMENTS VALUES('065a317f-8d82-4bcd-ab8c-8756bf5ad28c','2022-04-25',50424.02,49597.40,826.62,'856d8789-0cd7-4621-a330-ee6cb80b89ef')
COMMIT
DISCONNECT
/*C5*/SET SCHEMA PUBLIC
DISCONNECT
/*C6*/SET SCHEMA PUBLIC
DISCONNECT
/*C3*/SET SCHEMA PUBLIC
DISCONNECT
/*C4*/SET SCHEMA PUBLIC
DROP TABLE payments IF EXISTS CASCADE
DROP TABLE credit_proposals IF EXISTS CASCADE
DROP TABLE credits IF EXISTS
DROP TABLE customers IF EXISTS
DROP TABLE banks IF EXISTS
CREATE TABLE banks ( id UUID PRIMARY KEY )
CREATE TABLE customers ( id UUID PRIMARY KEY, fio VARCHAR(255) NOT NULL, phone_number VARCHAR(255) NOT NULL, email VARCHAR(255) NOT NULL, passport_number VARCHAR(255) NOT NULL, bank_id UUID NOT NULL, FOREIGN KEY (bank_id) REFERENCES banks (id) ON DELETE CASCADE )
CREATE TABLE credits ( id UUID PRIMARY KEY, limit DECIMAL(19,2) NOT NULL, interest_rate DECIMAL(19,2) NOT NULL, bank_id UUID NOT NULL, FOREIGN KEY (bank_id) REFERENCES banks (id) ON DELETE CASCADE )
CREATE TABLE credit_proposals ( id UUID PRIMARY KEY, credit_amount DECIMAL(19,2) NOT NULL, customer_id UUID NOT NULL, credit_id UUID NOT NULL, FOREIGN KEY (customer_id) REFERENCES customers (id) ON DELETE CASCADE, FOREIGN KEY (credit_id) REFERENCES credits (id) ON DELETE CASCADE )
CREATE TABLE payments ( id UUID PRIMARY KEY, date Date NOT NULL, total_amount Decimal(19,2) NOT NULL, amount_of_credit_body_repayment Decimal(19,2) NOT NULL, amount_of_interest_repayment Decimal(19,2) NOT NULL, credit_proposal_id UUID NOT NULL, FOREIGN KEY (credit_proposal_id) REFERENCES credit_proposals (id) ON DELETE CASCADE )
DROP PROCEDURE populate_db IF EXISTS
CREATE PROCEDURE populate_db() MODIFIES SQL DATA BEGIN ATOMIC DECLARE bank_id1, bank_id2, customer_id1, customer_id2, customer_id3, credit_id1, credit_id2, credit_id3, credit_proposal_id1, credit_proposal_id2 UUID; SET bank_id1 = UUID(); SET bank_id2 = UUID(); SET customer_id1 = UUID(); SET customer_id2 = UUID(); SET customer_id3 = UUID(); SET credit_id1 = UUID(); SET credit_id2 = UUID(); SET credit_id3 = UUID(); SET credit_proposal_id1 = UUID(); SET credit_proposal_id2 = UUID(); DELETE FROM payments; DELETE FROM credit_proposals; DELETE FROM credits; DELETE FROM customers; DELETE FROM banks; INSERT INTO banks (id) VALUES (bank_id1), (bank_id2); INSERT INTO customers (id, fio, phone_number, email, passport_number, bank_id) VALUES (customer_id1, '\u041a\u0443\u0437\u043d\u0435\u0446\u043e\u0432 \u041c\u0430\u043a\u0441\u0438\u043c \u0420\u043e\u043c\u0430\u043d\u043e\u0432\u0438\u0447', '892496599429', 'yf.bos@gmail.com', '968738651', bank_id1), (customer_id2, '\u0410\u0440\u0445\u0438\u043f\u043e\u0432 \u041c\u0430\u0442\u0432\u0435\u0439 \u0410\u043b\u044c\u0431\u0435\u0440\u0442\u043e\u0432\u0438\u0447', '892439700081', 'ds.gdr@gmail.com', '752010981', bank_id1), (customer_id3, '\u0412\u043e\u0440\u043e\u043d\u0438\u043d \u0410\u043b\u0435\u043a\u0441\u0435\u0439 \u0412\u0430\u0441\u0438\u043b\u044c\u0435\u0432\u0438\u0447', '892434918433', 'sa.fds@gmail.com', '456656525', bank_id2); INSERT INTO credits (id, limit, interest_rate, bank_id) VALUES (credit_id1, 250000, 20, bank_id1), (credit_id2, 500000, 15.5, bank_id1), (credit_id3, 750000, 10.5, bank_id2); INSERT INTO credit_proposals (id, credit_amount, customer_id, credit_id) VALUES (credit_proposal_id1, 250000, customer_id2, credit_id2), (credit_proposal_id2, 544333, customer_id3, credit_id3); INSERT INTO payments (id, date, total_amount, amount_of_credit_body_repayment, amount_of_interest_repayment, credit_proposal_id) VALUES (UUID(), '2021-05-25', 22623.6, 19394.44, 3229.17, credit_proposal_id1), (UUID(), '2021-06-25', 22623.6, 19644.95, 2978.66, credit_proposal_id1), (UUID(), '2021-07-25', 22623.6, 19898.7, 2724.91, credit_proposal_id1), (UUID(), '2021-08-25', 22623.6, 20155.72, 2467.88, credit_proposal_id1), (UUID(), '2021-09-25', 22623.6, 20416.07, 2207.54, credit_proposal_id1), (UUID(), '2021-10-25', 22623.6, 20679.77, 1943.83, credit_proposal_id1), (UUID(), '2021-11-25', 22623.6, 20946.89, 1676.72, credit_proposal_id1), (UUID(), '2021-12-25', 22623.6, 21217.45, 1406.15, credit_proposal_id1), (UUID(), '2022-01-25', 22623.6, 21491.51, 1132.09, credit_proposal_id1), (UUID(), '2022-02-25', 22623.6, 21769.11, 854.5, credit_proposal_id1), (UUID(), '2022-03-25', 22623.6, 22050.29, 573.31, credit_proposal_id1), (UUID(), '2022-04-25', 22623.6, 22335.11, 288.5, credit_proposal_id1), (UUID(), '2021-06-25', 50424.02, 41351.8, 9072.22, credit_proposal_id2), (UUID(), '2021-07-25', 50424.02, 42041, 8383.02, credit_proposal_id2), (UUID(), '2021-08-25', 50424.02, 42741.68, 7682.34, credit_proposal_id2), (UUID(), '2021-09-25', 50424.02, 43454.04, 6969.98, credit_proposal_id2), (UUID(), '2021-10-25', 50424.02, 44178.28, 6245.74, credit_proposal_id2), (UUID(), '2021-11-25', 50424.02, 44914.58, 5509.44, credit_proposal_id2), (UUID(), '2021-12-25', 50424.02, 45663.16, 4760.86, credit_proposal_id2), (UUID(), '2022-01-25', 50424.02, 46424.21, 3999.81, credit_proposal_id2), (UUID(), '2022-02-25', 50424.02, 47197.95, 3226.07, credit_proposal_id2), (UUID(), '2022-03-25', 50424.02, 47984.58, 2439.44, credit_proposal_id2), (UUID(), '2022-04-25', 50424.02, 48784.32, 1639.7, credit_proposal_id2), (UUID(), '2022-04-25', 50424.02, 49597.4, 826.62, credit_proposal_id2); END
INSERT INTO BANKS VALUES('38302610-60e8-489e-a841-af444b31837c')
INSERT INTO BANKS VALUES('76f86a44-821b-49b1-9f05-e1f2c339371d')
INSERT INTO CUSTOMERS VALUES('feb3b598-2678-4f9e-8608-19fab8a98792','\u041a\u0443\u0437\u043d\u0435\u0446\u043e\u0432 \u041c\u0430\u043a\u0441\u0438\u043c \u0420\u043e\u043c\u0430\u043d\u043e\u0432\u0438\u0447','892496599429','yf.bos@gmail.com','968738651','38302610-60e8-489e-a841-af444b31837c')
INSERT INTO CUSTOMERS VALUES('bd51ce6c-822a-46a5-aafc-4c2b28e47de3','\u0410\u0440\u0445\u0438\u043f\u043e\u0432 \u041c\u0430\u0442\u0432\u0435\u0439 \u0410\u043b\u044c\u0431\u0435\u0440\u0442\u043e\u0432\u0438\u0447','892439700081','ds.gdr@gmail.com','752010981','38302610-60e8-489e-a841-af444b31837c')
INSERT INTO CUSTOMERS VALUES('e776698b-aa42-4cc8-bee1-7b72182c6f0c','\u0412\u043e\u0440\u043e\u043d\u0438\u043d \u0410\u043b\u0435\u043a\u0441\u0435\u0439 \u0412\u0430\u0441\u0438\u043b\u044c\u0435\u0432\u0438\u0447','892434918433','sa.fds@gmail.com','456656525','76f86a44-821b-49b1-9f05-e1f2c339371d')
INSERT INTO CREDITS VALUES('0f968bdb-22fd-465a-9033-9e5839c5b387',250000.00,20.00,'38302610-60e8-489e-a841-af444b31837c')
INSERT INTO CREDITS VALUES('50e72b62-848f-4033-ba66-178fac8f9804',500000.00,15.50,'38302610-60e8-489e-a841-af444b31837c')
INSERT INTO CREDITS VALUES('1f82f008-7422-43c0-9602-3162738dd1e5',750000.00,10.50,'76f86a44-821b-49b1-9f05-e1f2c339371d')
INSERT INTO CREDIT_PROPOSALS VALUES('fe0b0a75-e447-4aae-a856-1ade8fcd1ac7',250000.00,'bd51ce6c-822a-46a5-aafc-4c2b28e47de3','50e72b62-848f-4033-ba66-178fac8f9804')
INSERT INTO CREDIT_PROPOSALS VALUES('356b1615-94ab-48b6-9de1-34d540704c7d',544333.00,'e776698b-aa42-4cc8-bee1-7b72182c6f0c','1f82f008-7422-43c0-9602-3162738dd1e5')
INSERT INTO PAYMENTS VALUES('9f89cacd-b184-410b-b822-f79fd908d097','2021-05-25',22623.60,19394.44,3229.17,'fe0b0a75-e447-4aae-a856-1ade8fcd1ac7')
INSERT INTO PAYMENTS VALUES('e48c843e-257c-4e14-97de-ddcdbfa996ba','2021-06-25',22623.60,19644.95,2978.66,'fe0b0a75-e447-4aae-a856-1ade8fcd1ac7')
INSERT INTO PAYMENTS VALUES('96ed0808-5a8a-4c8b-b784-ca24277cb593','2021-07-25',22623.60,19898.70,2724.91,'fe0b0a75-e447-4aae-a856-1ade8fcd1ac7')
INSERT INTO PAYMENTS VALUES('ab3bb16d-8a71-4111-bb24-535dc21d5d90','2021-08-25',22623.60,20155.72,2467.88,'fe0b0a75-e447-4aae-a856-1ade8fcd1ac7')
INSERT INTO PAYMENTS VALUES('04960a9c-421a-455d-ab8a-554189b75a8e','2021-09-25',22623.60,20416.07,2207.54,'fe0b0a75-e447-4aae-a856-1ade8fcd1ac7')
INSERT INTO PAYMENTS VALUES('d55b0690-1175-4d91-9477-b2fab6ad8b87','2021-10-25',22623.60,20679.77,1943.83,'fe0b0a75-e447-4aae-a856-1ade8fcd1ac7')
INSERT INTO PAYMENTS VALUES('6aec1c0c-33e9-42a9-af24-9acefe6157d9','2021-11-25',22623.60,20946.89,1676.72,'fe0b0a75-e447-4aae-a856-1ade8fcd1ac7')
INSERT INTO PAYMENTS VALUES('e4fc4086-d611-483e-b78d-f6b20c83d1b0','2021-12-25',22623.60,21217.45,1406.15,'fe0b0a75-e447-4aae-a856-1ade8fcd1ac7')
INSERT INTO PAYMENTS VALUES('8c964690-5371-4bf1-bb50-c1ed5a512594','2022-01-25',22623.60,21491.51,1132.09,'fe0b0a75-e447-4aae-a856-1ade8fcd1ac7')
INSERT INTO PAYMENTS VALUES('6558acba-63c5-441c-b8d4-c9a8332e88cb','2022-02-25',22623.60,21769.11,854.50,'fe0b0a75-e447-4aae-a856-1ade8fcd1ac7')
INSERT INTO PAYMENTS VALUES('21cc6a20-4bae-42db-9585-238b26a4831f','2022-03-25',22623.60,22050.29,573.31,'fe0b0a75-e447-4aae-a856-1ade8fcd1ac7')
INSERT INTO PAYMENTS VALUES('75e997c2-dee5-4e12-9b70-f095d9f0af12','2022-04-25',22623.60,22335.11,288.50,'fe0b0a75-e447-4aae-a856-1ade8fcd1ac7')
INSERT INTO PAYMENTS VALUES('f7d0fce7-b022-4410-8199-70571960a0d5','2021-06-25',50424.02,41351.80,9072.22,'356b1615-94ab-48b6-9de1-34d540704c7d')
INSERT INTO PAYMENTS VALUES('8cfb5264-b890-484a-b628-06cd9ca7800a','2021-07-25',50424.02,42041.00,8383.02,'356b1615-94ab-48b6-9de1-34d540704c7d')
INSERT INTO PAYMENTS VALUES('d8ac5fc7-dd8b-44ba-9fd4-d01ee1253f0e','2021-08-25',50424.02,42741.68,7682.34,'356b1615-94ab-48b6-9de1-34d540704c7d')
INSERT INTO PAYMENTS VALUES('1915f1dc-e174-49ec-88f5-fe243fbbc29d','2021-09-25',50424.02,43454.04,6969.98,'356b1615-94ab-48b6-9de1-34d540704c7d')
INSERT INTO PAYMENTS VALUES('53e71b72-7612-46f1-8de4-7b3ac4d91547','2021-10-25',50424.02,44178.28,6245.74,'356b1615-94ab-48b6-9de1-34d540704c7d')
INSERT INTO PAYMENTS VALUES('74526c7d-6555-4f35-a32c-6d644d45fa20','2021-11-25',50424.02,44914.58,5509.44,'356b1615-94ab-48b6-9de1-34d540704c7d')
INSERT INTO PAYMENTS VALUES('5bfe0ac5-a491-4294-8938-dd6f8f061871','2021-12-25',50424.02,45663.16,4760.86,'356b1615-94ab-48b6-9de1-34d540704c7d')
INSERT INTO PAYMENTS VALUES('2ae7cabb-00f4-40f3-bc2b-76024fbe5538','2022-01-25',50424.02,46424.21,3999.81,'356b1615-94ab-48b6-9de1-34d540704c7d')
INSERT INTO PAYMENTS VALUES('c020a205-3a12-4607-91c2-c7f3ad488311','2022-02-25',50424.02,47197.95,3226.07,'356b1615-94ab-48b6-9de1-34d540704c7d')
INSERT INTO PAYMENTS VALUES('64d3e143-97d5-4686-9ff2-9e8106fe1024','2022-03-25',50424.02,47984.58,2439.44,'356b1615-94ab-48b6-9de1-34d540704c7d')
INSERT INTO PAYMENTS VALUES('70a34c6c-bf8e-4d80-ad6d-0c5fb4c0cfd8','2022-04-25',50424.02,48784.32,1639.70,'356b1615-94ab-48b6-9de1-34d540704c7d')
INSERT INTO PAYMENTS VALUES('ee24c4dd-5db8-4ad7-9468-d8132f4a1db9','2022-04-25',50424.02,49597.40,826.62,'356b1615-94ab-48b6-9de1-34d540704c7d')
COMMIT
DISCONNECT
/*C5*/SET SCHEMA PUBLIC
DISCONNECT
/*C3*/SET SCHEMA PUBLIC
DISCONNECT
/*C4*/SET SCHEMA PUBLIC
DROP TABLE payments IF EXISTS CASCADE
DROP TABLE credit_proposals IF EXISTS CASCADE
DROP TABLE credits IF EXISTS
DROP TABLE customers IF EXISTS
DROP TABLE banks IF EXISTS
CREATE TABLE banks ( id UUID PRIMARY KEY )
CREATE TABLE customers ( id UUID PRIMARY KEY, fio VARCHAR(255) NOT NULL, phone_number VARCHAR(255) NOT NULL, email VARCHAR(255) NOT NULL, passport_number VARCHAR(255) NOT NULL, bank_id UUID NOT NULL, FOREIGN KEY (bank_id) REFERENCES banks (id) ON DELETE CASCADE )
CREATE TABLE credits ( id UUID PRIMARY KEY, limit DECIMAL(19,2) NOT NULL, interest_rate DECIMAL(19,2) NOT NULL, bank_id UUID NOT NULL, FOREIGN KEY (bank_id) REFERENCES banks (id) ON DELETE CASCADE )
CREATE TABLE credit_proposals ( id UUID PRIMARY KEY, credit_amount DECIMAL(19,2) NOT NULL, customer_id UUID NOT NULL, credit_id UUID NOT NULL, FOREIGN KEY (customer_id) REFERENCES customers (id) ON DELETE CASCADE, FOREIGN KEY (credit_id) REFERENCES credits (id) ON DELETE CASCADE )
CREATE TABLE payments ( id UUID PRIMARY KEY, date Date NOT NULL, total_amount Decimal(19,2) NOT NULL, amount_of_credit_body_repayment Decimal(19,2) NOT NULL, amount_of_interest_repayment Decimal(19,2) NOT NULL, credit_proposal_id UUID NOT NULL, FOREIGN KEY (credit_proposal_id) REFERENCES credit_proposals (id) ON DELETE CASCADE )
DROP PROCEDURE populate_db IF EXISTS
CREATE PROCEDURE populate_db() MODIFIES SQL DATA BEGIN ATOMIC DECLARE bank_id1, bank_id2, customer_id1, customer_id2, customer_id3, credit_id1, credit_id2, credit_id3, credit_proposal_id1, credit_proposal_id2 UUID; SET bank_id1 = UUID(); SET bank_id2 = UUID(); SET customer_id1 = UUID(); SET customer_id2 = UUID(); SET customer_id3 = UUID(); SET credit_id1 = UUID(); SET credit_id2 = UUID(); SET credit_id3 = UUID(); SET credit_proposal_id1 = UUID(); SET credit_proposal_id2 = UUID(); DELETE FROM payments; DELETE FROM credit_proposals; DELETE FROM credits; DELETE FROM customers; DELETE FROM banks; INSERT INTO banks (id) VALUES (bank_id1), (bank_id2); INSERT INTO customers (id, fio, phone_number, email, passport_number, bank_id) VALUES (customer_id1, '\u041a\u0443\u0437\u043d\u0435\u0446\u043e\u0432 \u041c\u0430\u043a\u0441\u0438\u043c \u0420\u043e\u043c\u0430\u043d\u043e\u0432\u0438\u0447', '892496599429', 'yf.bos@gmail.com', '968738651', bank_id1), (customer_id2, '\u0410\u0440\u0445\u0438\u043f\u043e\u0432 \u041c\u0430\u0442\u0432\u0435\u0439 \u0410\u043b\u044c\u0431\u0435\u0440\u0442\u043e\u0432\u0438\u0447', '892439700081', 'ds.gdr@gmail.com', '752010981', bank_id1), (customer_id3, '\u0412\u043e\u0440\u043e\u043d\u0438\u043d \u0410\u043b\u0435\u043a\u0441\u0435\u0439 \u0412\u0430\u0441\u0438\u043b\u044c\u0435\u0432\u0438\u0447', '892434918433', 'sa.fds@gmail.com', '456656525', bank_id2); INSERT INTO credits (id, limit, interest_rate, bank_id) VALUES (credit_id1, 250000, 20, bank_id1), (credit_id2, 500000, 15.5, bank_id1), (credit_id3, 750000, 10.5, bank_id2); INSERT INTO credit_proposals (id, credit_amount, customer_id, credit_id) VALUES (credit_proposal_id1, 250000, customer_id2, credit_id2), (credit_proposal_id2, 544333, customer_id3, credit_id3); INSERT INTO payments (id, date, total_amount, amount_of_credit_body_repayment, amount_of_interest_repayment, credit_proposal_id) VALUES (UUID(), '2021-05-25', 22623.6, 19394.44, 3229.17, credit_proposal_id1), (UUID(), '2021-06-25', 22623.6, 19644.95, 2978.66, credit_proposal_id1), (UUID(), '2021-07-25', 22623.6, 19898.7, 2724.91, credit_proposal_id1), (UUID(), '2021-08-25', 22623.6, 20155.72, 2467.88, credit_proposal_id1), (UUID(), '2021-09-25', 22623.6, 20416.07, 2207.54, credit_proposal_id1), (UUID(), '2021-10-25', 22623.6, 20679.77, 1943.83, credit_proposal_id1), (UUID(), '2021-11-25', 22623.6, 20946.89, 1676.72, credit_proposal_id1), (UUID(), '2021-12-25', 22623.6, 21217.45, 1406.15, credit_proposal_id1), (UUID(), '2022-01-25', 22623.6, 21491.51, 1132.09, credit_proposal_id1), (UUID(), '2022-02-25', 22623.6, 21769.11, 854.5, credit_proposal_id1), (UUID(), '2022-03-25', 22623.6, 22050.29, 573.31, credit_proposal_id1), (UUID(), '2022-04-25', 22623.6, 22335.11, 288.5, credit_proposal_id1), (UUID(), '2021-06-25', 50424.02, 41351.8, 9072.22, credit_proposal_id2), (UUID(), '2021-07-25', 50424.02, 42041, 8383.02, credit_proposal_id2), (UUID(), '2021-08-25', 50424.02, 42741.68, 7682.34, credit_proposal_id2), (UUID(), '2021-09-25', 50424.02, 43454.04, 6969.98, credit_proposal_id2), (UUID(), '2021-10-25', 50424.02, 44178.28, 6245.74, credit_proposal_id2), (UUID(), '2021-11-25', 50424.02, 44914.58, 5509.44, credit_proposal_id2), (UUID(), '2021-12-25', 50424.02, 45663.16, 4760.86, credit_proposal_id2), (UUID(), '2022-01-25', 50424.02, 46424.21, 3999.81, credit_proposal_id2), (UUID(), '2022-02-25', 50424.02, 47197.95, 3226.07, credit_proposal_id2), (UUID(), '2022-03-25', 50424.02, 47984.58, 2439.44, credit_proposal_id2), (UUID(), '2022-04-25', 50424.02, 48784.32, 1639.7, credit_proposal_id2), (UUID(), '2022-04-25', 50424.02, 49597.4, 826.62, credit_proposal_id2); END
INSERT INTO BANKS VALUES('39459c68-c3ab-4b07-8d21-851de2b4bb8e')
INSERT INTO BANKS VALUES('f80c62a8-f7f1-4b06-a71b-f471e830e2f5')
INSERT INTO CUSTOMERS VALUES('ccb12903-395c-4b1f-ae27-6e92c6c6a5c7','\u041a\u0443\u0437\u043d\u0435\u0446\u043e\u0432 \u041c\u0430\u043a\u0441\u0438\u043c \u0420\u043e\u043c\u0430\u043d\u043e\u0432\u0438\u0447','892496599429','yf.bos@gmail.com','968738651','39459c68-c3ab-4b07-8d21-851de2b4bb8e')
INSERT INTO CUSTOMERS VALUES('48de31ba-79d7-4a86-83e2-847889ce3fff','\u0410\u0440\u0445\u0438\u043f\u043e\u0432 \u041c\u0430\u0442\u0432\u0435\u0439 \u0410\u043b\u044c\u0431\u0435\u0440\u0442\u043e\u0432\u0438\u0447','892439700081','ds.gdr@gmail.com','752010981','39459c68-c3ab-4b07-8d21-851de2b4bb8e')
INSERT INTO CUSTOMERS VALUES('447fcc3b-6246-4181-b4a5-daa86c7747ff','\u0412\u043e\u0440\u043e\u043d\u0438\u043d \u0410\u043b\u0435\u043a\u0441\u0435\u0439 \u0412\u0430\u0441\u0438\u043b\u044c\u0435\u0432\u0438\u0447','892434918433','sa.fds@gmail.com','456656525','f80c62a8-f7f1-4b06-a71b-f471e830e2f5')
INSERT INTO CREDITS VALUES('a9a3860d-18cb-44ce-a9a1-4b8411834a1e',250000.00,20.00,'39459c68-c3ab-4b07-8d21-851de2b4bb8e')
INSERT INTO CREDITS VALUES('fc0b765e-20a8-4e4a-9c87-80889fe1cd1c',500000.00,15.50,'39459c68-c3ab-4b07-8d21-851de2b4bb8e')
INSERT INTO CREDITS VALUES('098199bd-5469-4d0d-a9be-0e57455daa4e',750000.00,10.50,'f80c62a8-f7f1-4b06-a71b-f471e830e2f5')
INSERT INTO CREDIT_PROPOSALS VALUES('07935c3c-cd77-4d92-8647-eeaabfbd491d',250000.00,'48de31ba-79d7-4a86-83e2-847889ce3fff','fc0b765e-20a8-4e4a-9c87-80889fe1cd1c')
INSERT INTO CREDIT_PROPOSALS VALUES('04a880c1-51f1-448a-8c45-46eddd53ccf5',544333.00,'447fcc3b-6246-4181-b4a5-daa86c7747ff','098199bd-5469-4d0d-a9be-0e57455daa4e')
INSERT INTO PAYMENTS VALUES('cbf42e32-0b25-4b82-8c65-8c7952d53ca4','2021-05-25',22623.60,19394.44,3229.17,'07935c3c-cd77-4d92-8647-eeaabfbd491d')
INSERT INTO PAYMENTS VALUES('7c9c2e20-b048-4fce-96b6-c7f9ead3c739','2021-06-25',22623.60,19644.95,2978.66,'07935c3c-cd77-4d92-8647-eeaabfbd491d')
INSERT INTO PAYMENTS VALUES('cbd998c2-53fa-4de2-85ed-088ce86d16d1','2021-07-25',22623.60,19898.70,2724.91,'07935c3c-cd77-4d92-8647-eeaabfbd491d')
INSERT INTO PAYMENTS VALUES('307bffac-640a-49eb-b888-21885cae8f1d','2021-08-25',22623.60,20155.72,2467.88,'07935c3c-cd77-4d92-8647-eeaabfbd491d')
INSERT INTO PAYMENTS VALUES('915068a5-7718-48cc-9178-9c160add3cb8','2021-09-25',22623.60,20416.07,2207.54,'07935c3c-cd77-4d92-8647-eeaabfbd491d')
INSERT INTO PAYMENTS VALUES('8316a384-4335-4810-b689-c8b452ee43a8','2021-10-25',22623.60,20679.77,1943.83,'07935c3c-cd77-4d92-8647-eeaabfbd491d')
INSERT INTO PAYMENTS VALUES('04272d08-cbbd-4fa2-93ef-3b735a042d37','2021-11-25',22623.60,20946.89,1676.72,'07935c3c-cd77-4d92-8647-eeaabfbd491d')
INSERT INTO PAYMENTS VALUES('cb153fb5-6e57-40c3-b075-bc78255fa9dd','2021-12-25',22623.60,21217.45,1406.15,'07935c3c-cd77-4d92-8647-eeaabfbd491d')
INSERT INTO PAYMENTS VALUES('a4b0a31b-a236-4eef-9a94-0abc683b4484','2022-01-25',22623.60,21491.51,1132.09,'07935c3c-cd77-4d92-8647-eeaabfbd491d')
INSERT INTO PAYMENTS VALUES('d2bf1741-7ec6-4bf0-a816-e39444b2c81e','2022-02-25',22623.60,21769.11,854.50,'07935c3c-cd77-4d92-8647-eeaabfbd491d')
INSERT INTO PAYMENTS VALUES('fa4f0d4f-006a-4772-8f1b-8f23fcb07c1d','2022-03-25',22623.60,22050.29,573.31,'07935c3c-cd77-4d92-8647-eeaabfbd491d')
INSERT INTO PAYMENTS VALUES('a1d5bbff-12cd-4feb-91c2-82b0f06a5c88','2022-04-25',22623.60,22335.11,288.50,'07935c3c-cd77-4d92-8647-eeaabfbd491d')
INSERT INTO PAYMENTS VALUES('ba5f7cc4-c0e0-447d-80cc-a0bdf51b71e2','2021-06-25',50424.02,41351.80,9072.22,'04a880c1-51f1-448a-8c45-46eddd53ccf5')
INSERT INTO PAYMENTS VALUES('fa33d13e-370e-490d-bada-e07427662a47','2021-07-25',50424.02,42041.00,8383.02,'04a880c1-51f1-448a-8c45-46eddd53ccf5')
INSERT INTO PAYMENTS VALUES('259a64f2-d99d-459d-8527-09a2dbe926e6','2021-08-25',50424.02,42741.68,7682.34,'04a880c1-51f1-448a-8c45-46eddd53ccf5')
INSERT INTO PAYMENTS VALUES('8213ddcb-cc92-4e0d-928b-b452d35890c4','2021-09-25',50424.02,43454.04,6969.98,'04a880c1-51f1-448a-8c45-46eddd53ccf5')
INSERT INTO PAYMENTS VALUES('d678640a-a718-410b-ace2-80b5d43c8b17','2021-10-25',50424.02,44178.28,6245.74,'04a880c1-51f1-448a-8c45-46eddd53ccf5')
INSERT INTO PAYMENTS VALUES('bb530b5e-f962-4eaa-a737-8c6e63943958','2021-11-25',50424.02,44914.58,5509.44,'04a880c1-51f1-448a-8c45-46eddd53ccf5')
INSERT INTO PAYMENTS VALUES('2023cbe8-0977-4aff-be8d-c7256628aa26','2021-12-25',50424.02,45663.16,4760.86,'04a880c1-51f1-448a-8c45-46eddd53ccf5')
INSERT INTO PAYMENTS VALUES('c4b14b16-1708-4963-ace2-5e04cb7ef6f3','2022-01-25',50424.02,46424.21,3999.81,'04a880c1-51f1-448a-8c45-46eddd53ccf5')
INSERT INTO PAYMENTS VALUES('0a72a9fb-c0ae-4884-b226-0f96b7719ac6','2022-02-25',50424.02,47197.95,3226.07,'04a880c1-51f1-448a-8c45-46eddd53ccf5')
INSERT INTO PAYMENTS VALUES('62e508f9-5602-401a-9baa-1e898b981f46','2022-03-25',50424.02,47984.58,2439.44,'04a880c1-51f1-448a-8c45-46eddd53ccf5')
INSERT INTO PAYMENTS VALUES('ee5587ad-ab8d-4fcd-8021-7f2e91156eb0','2022-04-25',50424.02,48784.32,1639.70,'04a880c1-51f1-448a-8c45-46eddd53ccf5')
INSERT INTO PAYMENTS VALUES('a28cd1f7-2bbe-42db-840a-2ebaf98d94ce','2022-04-25',50424.02,49597.40,826.62,'04a880c1-51f1-448a-8c45-46eddd53ccf5')
COMMIT
DISCONNECT
/*C5*/SET SCHEMA PUBLIC
DISCONNECT
/*C3*/SET SCHEMA PUBLIC
DISCONNECT
/*C4*/SET SCHEMA PUBLIC
DROP TABLE payments IF EXISTS CASCADE
DROP TABLE credit_proposals IF EXISTS CASCADE
DROP TABLE credits IF EXISTS
DROP TABLE customers IF EXISTS
DROP TABLE banks IF EXISTS
CREATE TABLE banks ( id UUID PRIMARY KEY )
CREATE TABLE customers ( id UUID PRIMARY KEY, fio VARCHAR(255) NOT NULL, phone_number VARCHAR(255) NOT NULL, email VARCHAR(255) NOT NULL, passport_number VARCHAR(255) NOT NULL, bank_id UUID NOT NULL, FOREIGN KEY (bank_id) REFERENCES banks (id) ON DELETE CASCADE )
CREATE TABLE credits ( id UUID PRIMARY KEY, limit DECIMAL(19,2) NOT NULL, interest_rate DECIMAL(19,2) NOT NULL, bank_id UUID NOT NULL, FOREIGN KEY (bank_id) REFERENCES banks (id) ON DELETE CASCADE )
CREATE TABLE credit_proposals ( id UUID PRIMARY KEY, credit_amount DECIMAL(19,2) NOT NULL, customer_id UUID NOT NULL, credit_id UUID NOT NULL, FOREIGN KEY (customer_id) REFERENCES customers (id) ON DELETE CASCADE, FOREIGN KEY (credit_id) REFERENCES credits (id) ON DELETE CASCADE )
CREATE TABLE payments ( id UUID PRIMARY KEY, date Date NOT NULL, total_amount Decimal(19,2) NOT NULL, amount_of_credit_body_repayment Decimal(19,2) NOT NULL, amount_of_interest_repayment Decimal(19,2) NOT NULL, credit_proposal_id UUID NOT NULL, FOREIGN KEY (credit_proposal_id) REFERENCES credit_proposals (id) ON DELETE CASCADE )
DROP PROCEDURE populate_db IF EXISTS
CREATE PROCEDURE populate_db() MODIFIES SQL DATA BEGIN ATOMIC DECLARE bank_id1, bank_id2, customer_id1, customer_id2, customer_id3, credit_id1, credit_id2, credit_id3, credit_proposal_id1, credit_proposal_id2 UUID; SET bank_id1 = UUID(); SET bank_id2 = UUID(); SET customer_id1 = UUID(); SET customer_id2 = UUID(); SET customer_id3 = UUID(); SET credit_id1 = UUID(); SET credit_id2 = UUID(); SET credit_id3 = UUID(); SET credit_proposal_id1 = UUID(); SET credit_proposal_id2 = UUID(); DELETE FROM payments; DELETE FROM credit_proposals; DELETE FROM credits; DELETE FROM customers; DELETE FROM banks; INSERT INTO banks (id) VALUES (bank_id1), (bank_id2); INSERT INTO customers (id, fio, phone_number, email, passport_number, bank_id) VALUES (customer_id1, '\u041a\u0443\u0437\u043d\u0435\u0446\u043e\u0432 \u041c\u0430\u043a\u0441\u0438\u043c \u0420\u043e\u043c\u0430\u043d\u043e\u0432\u0438\u0447', '892496599429', 'yf.bos@gmail.com', '968738651', bank_id1), (customer_id2, '\u0410\u0440\u0445\u0438\u043f\u043e\u0432 \u041c\u0430\u0442\u0432\u0435\u0439 \u0410\u043b\u044c\u0431\u0435\u0440\u0442\u043e\u0432\u0438\u0447', '892439700081', 'ds.gdr@gmail.com', '752010981', bank_id1), (customer_id3, '\u0412\u043e\u0440\u043e\u043d\u0438\u043d \u0410\u043b\u0435\u043a\u0441\u0435\u0439 \u0412\u0430\u0441\u0438\u043b\u044c\u0435\u0432\u0438\u0447', '892434918433', 'sa.fds@gmail.com', '456656525', bank_id2); INSERT INTO credits (id, limit, interest_rate, bank_id) VALUES (credit_id1, 250000, 20, bank_id1), (credit_id2, 500000, 15.5, bank_id1), (credit_id3, 750000, 10.5, bank_id2); INSERT INTO credit_proposals (id, credit_amount, customer_id, credit_id) VALUES (credit_proposal_id1, 250000, customer_id2, credit_id2), (credit_proposal_id2, 544333, customer_id3, credit_id3); INSERT INTO payments (id, date, total_amount, amount_of_credit_body_repayment, amount_of_interest_repayment, credit_proposal_id) VALUES (UUID(), '2021-05-25', 22623.6, 19394.44, 3229.17, credit_proposal_id1), (UUID(), '2021-06-25', 22623.6, 19644.95, 2978.66, credit_proposal_id1), (UUID(), '2021-07-25', 22623.6, 19898.7, 2724.91, credit_proposal_id1), (UUID(), '2021-08-25', 22623.6, 20155.72, 2467.88, credit_proposal_id1), (UUID(), '2021-09-25', 22623.6, 20416.07, 2207.54, credit_proposal_id1), (UUID(), '2021-10-25', 22623.6, 20679.77, 1943.83, credit_proposal_id1), (UUID(), '2021-11-25', 22623.6, 20946.89, 1676.72, credit_proposal_id1), (UUID(), '2021-12-25', 22623.6, 21217.45, 1406.15, credit_proposal_id1), (UUID(), '2022-01-25', 22623.6, 21491.51, 1132.09, credit_proposal_id1), (UUID(), '2022-02-25', 22623.6, 21769.11, 854.5, credit_proposal_id1), (UUID(), '2022-03-25', 22623.6, 22050.29, 573.31, credit_proposal_id1), (UUID(), '2022-04-25', 22623.6, 22335.11, 288.5, credit_proposal_id1), (UUID(), '2021-06-25', 50424.02, 41351.8, 9072.22, credit_proposal_id2), (UUID(), '2021-07-25', 50424.02, 42041, 8383.02, credit_proposal_id2), (UUID(), '2021-08-25', 50424.02, 42741.68, 7682.34, credit_proposal_id2), (UUID(), '2021-09-25', 50424.02, 43454.04, 6969.98, credit_proposal_id2), (UUID(), '2021-10-25', 50424.02, 44178.28, 6245.74, credit_proposal_id2), (UUID(), '2021-11-25', 50424.02, 44914.58, 5509.44, credit_proposal_id2), (UUID(), '2021-12-25', 50424.02, 45663.16, 4760.86, credit_proposal_id2), (UUID(), '2022-01-25', 50424.02, 46424.21, 3999.81, credit_proposal_id2), (UUID(), '2022-02-25', 50424.02, 47197.95, 3226.07, credit_proposal_id2), (UUID(), '2022-03-25', 50424.02, 47984.58, 2439.44, credit_proposal_id2), (UUID(), '2022-04-25', 50424.02, 48784.32, 1639.7, credit_proposal_id2), (UUID(), '2022-04-25', 50424.02, 49597.4, 826.62, credit_proposal_id2); END
INSERT INTO BANKS VALUES('99a997aa-7d35-4f24-8311-7a5b44035830')
INSERT INTO BANKS VALUES('59cb4cfc-e812-4e41-abea-60ab51fabd5e')
INSERT INTO CUSTOMERS VALUES('ddf9d819-df65-42e2-85cf-d74680c3a530','\u041a\u0443\u0437\u043d\u0435\u0446\u043e\u0432 \u041c\u0430\u043a\u0441\u0438\u043c \u0420\u043e\u043c\u0430\u043d\u043e\u0432\u0438\u0447','892496599429','yf.bos@gmail.com','968738651','99a997aa-7d35-4f24-8311-7a5b44035830')
INSERT INTO CUSTOMERS VALUES('7ce24ac5-7215-4d36-81e0-c5c75f85383d','\u0410\u0440\u0445\u0438\u043f\u043e\u0432 \u041c\u0430\u0442\u0432\u0435\u0439 \u0410\u043b\u044c\u0431\u0435\u0440\u0442\u043e\u0432\u0438\u0447','892439700081','ds.gdr@gmail.com','752010981','99a997aa-7d35-4f24-8311-7a5b44035830')
INSERT INTO CUSTOMERS VALUES('d584d835-19eb-4169-9ac2-e95af925e876','\u0412\u043e\u0440\u043e\u043d\u0438\u043d \u0410\u043b\u0435\u043a\u0441\u0435\u0439 \u0412\u0430\u0441\u0438\u043b\u044c\u0435\u0432\u0438\u0447','892434918433','sa.fds@gmail.com','456656525','59cb4cfc-e812-4e41-abea-60ab51fabd5e')
INSERT INTO CREDITS VALUES('e8daad4c-591e-474e-9add-c03f3bcdd28b',250000.00,20.00,'99a997aa-7d35-4f24-8311-7a5b44035830')
INSERT INTO CREDITS VALUES('b476c75d-8649-45ee-aada-7cda813e8c19',500000.00,15.50,'99a997aa-7d35-4f24-8311-7a5b44035830')
INSERT INTO CREDITS VALUES('e030ddad-e1c7-4d1d-a1a4-c6c50a2d42b7',750000.00,10.50,'59cb4cfc-e812-4e41-abea-60ab51fabd5e')
INSERT INTO CREDIT_PROPOSALS VALUES('5a8fd06d-005d-4c62-9571-19880271ae95',250000.00,'7ce24ac5-7215-4d36-81e0-c5c75f85383d','b476c75d-8649-45ee-aada-7cda813e8c19')
INSERT INTO CREDIT_PROPOSALS VALUES('e922ec30-46ef-436e-a5aa-6caab15ef43b',544333.00,'d584d835-19eb-4169-9ac2-e95af925e876','e030ddad-e1c7-4d1d-a1a4-c6c50a2d42b7')
INSERT INTO PAYMENTS VALUES('bf3bcee8-890e-461e-b7be-9e6f8c53086d','2021-05-25',22623.60,19394.44,3229.17,'5a8fd06d-005d-4c62-9571-19880271ae95')
INSERT INTO PAYMENTS VALUES('a72cbb08-1c12-4827-96a2-6ad192a6ca65','2021-06-25',22623.60,19644.95,2978.66,'5a8fd06d-005d-4c62-9571-19880271ae95')
INSERT INTO PAYMENTS VALUES('24789102-2113-4aac-9b7e-d0b516a1988a','2021-07-25',22623.60,19898.70,2724.91,'5a8fd06d-005d-4c62-9571-19880271ae95')
INSERT INTO PAYMENTS VALUES('6fe9c817-3676-43ec-ab5a-204dabe634b4','2021-08-25',22623.60,20155.72,2467.88,'5a8fd06d-005d-4c62-9571-19880271ae95')
INSERT INTO PAYMENTS VALUES('0465311d-2602-486f-8972-b6ab41315d4e','2021-09-25',22623.60,20416.07,2207.54,'5a8fd06d-005d-4c62-9571-19880271ae95')
INSERT INTO PAYMENTS VALUES('aa5fd335-ef5b-41ca-b57f-21352e20e7e7','2021-10-25',22623.60,20679.77,1943.83,'5a8fd06d-005d-4c62-9571-19880271ae95')
INSERT INTO PAYMENTS VALUES('f5914095-0421-4c69-83a4-069a790f3342','2021-11-25',22623.60,20946.89,1676.72,'5a8fd06d-005d-4c62-9571-19880271ae95')
INSERT INTO PAYMENTS VALUES('4bf6f1c4-f461-48f0-b8b7-05a03809588b','2021-12-25',22623.60,21217.45,1406.15,'5a8fd06d-005d-4c62-9571-19880271ae95')
INSERT INTO PAYMENTS VALUES('f18a9101-e831-4381-b8fe-a01b7758e85b','2022-01-25',22623.60,21491.51,1132.09,'5a8fd06d-005d-4c62-9571-19880271ae95')
INSERT INTO PAYMENTS VALUES('73db887f-d6c2-46db-a224-8fef979f9d75','2022-02-25',22623.60,21769.11,854.50,'5a8fd06d-005d-4c62-9571-19880271ae95')
INSERT INTO PAYMENTS VALUES('58301c0b-0343-4d2c-82b6-ec2d1a2897f6','2022-03-25',22623.60,22050.29,573.31,'5a8fd06d-005d-4c62-9571-19880271ae95')
INSERT INTO PAYMENTS VALUES('fc95bc10-3260-4786-8351-a47efe3a660d','2022-04-25',22623.60,22335.11,288.50,'5a8fd06d-005d-4c62-9571-19880271ae95')
INSERT INTO PAYMENTS VALUES('0a0dbb2c-7278-47b6-8a21-4079c5593c60','2021-06-25',50424.02,41351.80,9072.22,'e922ec30-46ef-436e-a5aa-6caab15ef43b')
INSERT INTO PAYMENTS VALUES('1abb6a75-f54a-4e48-895a-7d13d085ca8f','2021-07-25',50424.02,42041.00,8383.02,'e922ec30-46ef-436e-a5aa-6caab15ef43b')
INSERT INTO PAYMENTS VALUES('749a0812-e317-4dca-97cd-347416e5f878','2021-08-25',50424.02,42741.68,7682.34,'e922ec30-46ef-436e-a5aa-6caab15ef43b')
INSERT INTO PAYMENTS VALUES('de94001b-bca8-4870-92cc-2d3058fbcd43','2021-09-25',50424.02,43454.04,6969.98,'e922ec30-46ef-436e-a5aa-6caab15ef43b')
INSERT INTO PAYMENTS VALUES('3dde3af5-9079-423e-824e-d20f49f15b33','2021-10-25',50424.02,44178.28,6245.74,'e922ec30-46ef-436e-a5aa-6caab15ef43b')
INSERT INTO PAYMENTS VALUES('039177f6-a6cd-4385-9d39-51e96413e492','2021-11-25',50424.02,44914.58,5509.44,'e922ec30-46ef-436e-a5aa-6caab15ef43b')
INSERT INTO PAYMENTS VALUES('fbcf009f-a68a-41bf-88ed-2fb144c0e7c5','2021-12-25',50424.02,45663.16,4760.86,'e922ec30-46ef-436e-a5aa-6caab15ef43b')
INSERT INTO PAYMENTS VALUES('d0be39a5-02ec-435f-a8a5-0c95b9978f97','2022-01-25',50424.02,46424.21,3999.81,'e922ec30-46ef-436e-a5aa-6caab15ef43b')
INSERT INTO PAYMENTS VALUES('1e6740b5-4223-49de-8a98-531cd4a08d9b','2022-02-25',50424.02,47197.95,3226.07,'e922ec30-46ef-436e-a5aa-6caab15ef43b')
INSERT INTO PAYMENTS VALUES('5bcab037-7052-4fff-a9f0-ef20e399afc0','2022-03-25',50424.02,47984.58,2439.44,'e922ec30-46ef-436e-a5aa-6caab15ef43b')
INSERT INTO PAYMENTS VALUES('891bd006-f087-4576-8d8c-2e7bfa18b029','2022-04-25',50424.02,48784.32,1639.70,'e922ec30-46ef-436e-a5aa-6caab15ef43b')
INSERT INTO PAYMENTS VALUES('4f6a1f43-3a37-439a-a2a4-0e4c092e2485','2022-04-25',50424.02,49597.40,826.62,'e922ec30-46ef-436e-a5aa-6caab15ef43b')
COMMIT
DISCONNECT
/*C5*/SET SCHEMA PUBLIC
DISCONNECT
/*C6*/SET SCHEMA PUBLIC
DISCONNECT
/*C7*/SET SCHEMA PUBLIC
DISCONNECT
/*C8*/SET SCHEMA PUBLIC
DISCONNECT
/*C9*/SET SCHEMA PUBLIC
DISCONNECT
/*C10*/SET SCHEMA PUBLIC
DISCONNECT
/*C11*/SET SCHEMA PUBLIC
DISCONNECT
/*C12*/SET SCHEMA PUBLIC
DISCONNECT
/*C13*/SET SCHEMA PUBLIC
DISCONNECT
/*C14*/SET SCHEMA PUBLIC
DISCONNECT
/*C15*/SET SCHEMA PUBLIC
DISCONNECT
/*C16*/SET SCHEMA PUBLIC
DISCONNECT
/*C17*/SET SCHEMA PUBLIC
DISCONNECT
/*C18*/SET SCHEMA PUBLIC
DISCONNECT
/*C19*/SET SCHEMA PUBLIC
DISCONNECT
/*C20*/SET SCHEMA PUBLIC
DISCONNECT
/*C21*/SET SCHEMA PUBLIC
DISCONNECT
/*C22*/SET SCHEMA PUBLIC
DISCONNECT
/*C23*/SET SCHEMA PUBLIC
DISCONNECT
/*C24*/SET SCHEMA PUBLIC
DISCONNECT
/*C25*/SET SCHEMA PUBLIC
DISCONNECT
/*C26*/SET SCHEMA PUBLIC
DISCONNECT
/*C27*/SET SCHEMA PUBLIC
DISCONNECT
/*C28*/SET SCHEMA PUBLIC
INSERT INTO BANKS VALUES('180d38af-0e2b-4d7b-a195-d89f57970180')
COMMIT
DISCONNECT
/*C29*/SET SCHEMA PUBLIC
DISCONNECT
/*C30*/SET SCHEMA PUBLIC
DISCONNECT
/*C31*/SET SCHEMA PUBLIC
DISCONNECT
/*C32*/SET SCHEMA PUBLIC
DISCONNECT
/*C33*/SET SCHEMA PUBLIC
DISCONNECT
/*C34*/SET SCHEMA PUBLIC
DISCONNECT
/*C35*/SET SCHEMA PUBLIC
DISCONNECT
/*C36*/SET SCHEMA PUBLIC
DISCONNECT
/*C37*/SET SCHEMA PUBLIC
DISCONNECT
/*C38*/SET SCHEMA PUBLIC
DISCONNECT
/*C39*/SET SCHEMA PUBLIC
DISCONNECT
/*C40*/SET SCHEMA PUBLIC
DISCONNECT
/*C41*/SET SCHEMA PUBLIC
DISCONNECT
/*C42*/SET SCHEMA PUBLIC
DISCONNECT
/*C43*/SET SCHEMA PUBLIC
DISCONNECT
/*C44*/SET SCHEMA PUBLIC
DISCONNECT
/*C45*/SET SCHEMA PUBLIC
DELETE FROM BANKS WHERE ID='180d38af-0e2b-4d7b-a195-d89f57970180'
COMMIT
DISCONNECT
/*C46*/SET SCHEMA PUBLIC
DISCONNECT
/*C47*/SET SCHEMA PUBLIC
DISCONNECT
/*C48*/SET SCHEMA PUBLIC
DISCONNECT
/*C49*/SET SCHEMA PUBLIC
DISCONNECT
/*C50*/SET SCHEMA PUBLIC
DISCONNECT
/*C51*/SET SCHEMA PUBLIC
DISCONNECT
/*C3*/SET SCHEMA PUBLIC
DISCONNECT
/*C4*/SET SCHEMA PUBLIC
DROP TABLE payments IF EXISTS CASCADE
DROP TABLE credit_proposals IF EXISTS CASCADE
DROP TABLE credits IF EXISTS
DROP TABLE customers IF EXISTS
DROP TABLE banks IF EXISTS
CREATE TABLE banks ( id UUID PRIMARY KEY )
CREATE TABLE customers ( id UUID PRIMARY KEY, fio VARCHAR(255) NOT NULL, phone_number VARCHAR(255) NOT NULL, email VARCHAR(255) NOT NULL, passport_number VARCHAR(255) NOT NULL, bank_id UUID NOT NULL, FOREIGN KEY (bank_id) REFERENCES banks (id) ON DELETE CASCADE )
CREATE TABLE credits ( id UUID PRIMARY KEY, limit DECIMAL(19,2) NOT NULL, interest_rate DECIMAL(19,2) NOT NULL, bank_id UUID NOT NULL, FOREIGN KEY (bank_id) REFERENCES banks (id) ON DELETE CASCADE )
CREATE TABLE credit_proposals ( id UUID PRIMARY KEY, credit_amount DECIMAL(19,2) NOT NULL, customer_id UUID NOT NULL, credit_id UUID NOT NULL, FOREIGN KEY (customer_id) REFERENCES customers (id) ON DELETE CASCADE, FOREIGN KEY (credit_id) REFERENCES credits (id) ON DELETE CASCADE )
CREATE TABLE payments ( id UUID PRIMARY KEY, date Date NOT NULL, total_amount Decimal(19,2) NOT NULL, amount_of_credit_body_repayment Decimal(19,2) NOT NULL, amount_of_interest_repayment Decimal(19,2) NOT NULL, credit_proposal_id UUID NOT NULL, FOREIGN KEY (credit_proposal_id) REFERENCES credit_proposals (id) ON DELETE CASCADE )
DROP PROCEDURE populate_db IF EXISTS
CREATE PROCEDURE populate_db() MODIFIES SQL DATA BEGIN ATOMIC DECLARE bank_id1, bank_id2, customer_id1, customer_id2, customer_id3, credit_id1, credit_id2, credit_id3, credit_proposal_id1, credit_proposal_id2 UUID; SET bank_id1 = UUID(); SET bank_id2 = UUID(); SET customer_id1 = UUID(); SET customer_id2 = UUID(); SET customer_id3 = UUID(); SET credit_id1 = UUID(); SET credit_id2 = UUID(); SET credit_id3 = UUID(); SET credit_proposal_id1 = UUID(); SET credit_proposal_id2 = UUID(); DELETE FROM payments; DELETE FROM credit_proposals; DELETE FROM credits; DELETE FROM customers; DELETE FROM banks; INSERT INTO banks (id) VALUES (bank_id1), (bank_id2); INSERT INTO customers (id, fio, phone_number, email, passport_number, bank_id) VALUES (customer_id1, '\u041a\u0443\u0437\u043d\u0435\u0446\u043e\u0432 \u041c\u0430\u043a\u0441\u0438\u043c \u0420\u043e\u043c\u0430\u043d\u043e\u0432\u0438\u0447', '892496599429', 'yf.bos@gmail.com', '968738651', bank_id1), (customer_id2, '\u0410\u0440\u0445\u0438\u043f\u043e\u0432 \u041c\u0430\u0442\u0432\u0435\u0439 \u0410\u043b\u044c\u0431\u0435\u0440\u0442\u043e\u0432\u0438\u0447', '892439700081', 'ds.gdr@gmail.com', '752010981', bank_id1), (customer_id3, '\u0412\u043e\u0440\u043e\u043d\u0438\u043d \u0410\u043b\u0435\u043a\u0441\u0435\u0439 \u0412\u0430\u0441\u0438\u043b\u044c\u0435\u0432\u0438\u0447', '892434918433', 'sa.fds@gmail.com', '456656525', bank_id2); INSERT INTO credits (id, limit, interest_rate, bank_id) VALUES (credit_id1, 250000, 20, bank_id1), (credit_id2, 500000, 15.5, bank_id1), (credit_id3, 750000, 10.5, bank_id2); INSERT INTO credit_proposals (id, credit_amount, customer_id, credit_id) VALUES (credit_proposal_id1, 250000, customer_id2, credit_id2), (credit_proposal_id2, 544333, customer_id3, credit_id3); INSERT INTO payments (id, date, total_amount, amount_of_credit_body_repayment, amount_of_interest_repayment, credit_proposal_id) VALUES (UUID(), '2021-05-25', 22623.6, 19394.44, 3229.17, credit_proposal_id1), (UUID(), '2021-06-25', 22623.6, 19644.95, 2978.66, credit_proposal_id1), (UUID(), '2021-07-25', 22623.6, 19898.7, 2724.91, credit_proposal_id1), (UUID(), '2021-08-25', 22623.6, 20155.72, 2467.88, credit_proposal_id1), (UUID(), '2021-09-25', 22623.6, 20416.07, 2207.54, credit_proposal_id1), (UUID(), '2021-10-25', 22623.6, 20679.77, 1943.83, credit_proposal_id1), (UUID(), '2021-11-25', 22623.6, 20946.89, 1676.72, credit_proposal_id1), (UUID(), '2021-12-25', 22623.6, 21217.45, 1406.15, credit_proposal_id1), (UUID(), '2022-01-25', 22623.6, 21491.51, 1132.09, credit_proposal_id1), (UUID(), '2022-02-25', 22623.6, 21769.11, 854.5, credit_proposal_id1), (UUID(), '2022-03-25', 22623.6, 22050.29, 573.31, credit_proposal_id1), (UUID(), '2022-04-25', 22623.6, 22335.11, 288.5, credit_proposal_id1), (UUID(), '2021-06-25', 50424.02, 41351.8, 9072.22, credit_proposal_id2), (UUID(), '2021-07-25', 50424.02, 42041, 8383.02, credit_proposal_id2), (UUID(), '2021-08-25', 50424.02, 42741.68, 7682.34, credit_proposal_id2), (UUID(), '2021-09-25', 50424.02, 43454.04, 6969.98, credit_proposal_id2), (UUID(), '2021-10-25', 50424.02, 44178.28, 6245.74, credit_proposal_id2), (UUID(), '2021-11-25', 50424.02, 44914.58, 5509.44, credit_proposal_id2), (UUID(), '2021-12-25', 50424.02, 45663.16, 4760.86, credit_proposal_id2), (UUID(), '2022-01-25', 50424.02, 46424.21, 3999.81, credit_proposal_id2), (UUID(), '2022-02-25', 50424.02, 47197.95, 3226.07, credit_proposal_id2), (UUID(), '2022-03-25', 50424.02, 47984.58, 2439.44, credit_proposal_id2), (UUID(), '2022-04-25', 50424.02, 48784.32, 1639.7, credit_proposal_id2), (UUID(), '2022-04-25', 50424.02, 49597.4, 826.62, credit_proposal_id2); END
INSERT INTO BANKS VALUES('a849bd0a-16f9-4f90-a118-0c52da834816')
INSERT INTO BANKS VALUES('caf6863a-2423-44e7-a817-b83df43f548d')
INSERT INTO CUSTOMERS VALUES('67800b73-666e-43b4-8421-d31ad635c24e','\u041a\u0443\u0437\u043d\u0435\u0446\u043e\u0432 \u041c\u0430\u043a\u0441\u0438\u043c \u0420\u043e\u043c\u0430\u043d\u043e\u0432\u0438\u0447','892496599429','yf.bos@gmail.com','968738651','a849bd0a-16f9-4f90-a118-0c52da834816')
INSERT INTO CUSTOMERS VALUES('14e8f993-de37-467a-949b-7c0cd5eef280','\u0410\u0440\u0445\u0438\u043f\u043e\u0432 \u041c\u0430\u0442\u0432\u0435\u0439 \u0410\u043b\u044c\u0431\u0435\u0440\u0442\u043e\u0432\u0438\u0447','892439700081','ds.gdr@gmail.com','752010981','a849bd0a-16f9-4f90-a118-0c52da834816')
INSERT INTO CUSTOMERS VALUES('da5035ef-2981-43ae-9f13-d40aae237a8a','\u0412\u043e\u0440\u043e\u043d\u0438\u043d \u0410\u043b\u0435\u043a\u0441\u0435\u0439 \u0412\u0430\u0441\u0438\u043b\u044c\u0435\u0432\u0438\u0447','892434918433','sa.fds@gmail.com','456656525','caf6863a-2423-44e7-a817-b83df43f548d')
INSERT INTO CREDITS VALUES('cc552227-7ed8-4689-81fc-b0d12dae331a',250000.00,20.00,'a849bd0a-16f9-4f90-a118-0c52da834816')
INSERT INTO CREDITS VALUES('ee476af2-e923-4eba-b9d7-a24f86e881a3',500000.00,15.50,'a849bd0a-16f9-4f90-a118-0c52da834816')
INSERT INTO CREDITS VALUES('685a59f8-1135-4a55-9b30-47ba269c7c93',750000.00,10.50,'caf6863a-2423-44e7-a817-b83df43f548d')
INSERT INTO CREDIT_PROPOSALS VALUES('319e97f7-6cc5-4de3-bf46-97cdc990947f',250000.00,'14e8f993-de37-467a-949b-7c0cd5eef280','ee476af2-e923-4eba-b9d7-a24f86e881a3')
INSERT INTO CREDIT_PROPOSALS VALUES('c92bfce9-4cd5-4366-855d-d9dceeab5de9',544333.00,'da5035ef-2981-43ae-9f13-d40aae237a8a','685a59f8-1135-4a55-9b30-47ba269c7c93')
INSERT INTO PAYMENTS VALUES('b10e5d89-fdaf-4471-a229-f1ae5b369e21','2021-05-25',22623.60,19394.44,3229.17,'319e97f7-6cc5-4de3-bf46-97cdc990947f')
INSERT INTO PAYMENTS VALUES('aafcbf29-7705-449f-8bfb-f21baab78548','2021-06-25',22623.60,19644.95,2978.66,'319e97f7-6cc5-4de3-bf46-97cdc990947f')
INSERT INTO PAYMENTS VALUES('a8990e86-8c37-4967-a91e-cd170f55c2ef','2021-07-25',22623.60,19898.70,2724.91,'319e97f7-6cc5-4de3-bf46-97cdc990947f')
INSERT INTO PAYMENTS VALUES('571866d2-d4b1-4d99-ae11-5f1a1c7325d0','2021-08-25',22623.60,20155.72,2467.88,'319e97f7-6cc5-4de3-bf46-97cdc990947f')
INSERT INTO PAYMENTS VALUES('1c30565b-3725-48c6-bcb6-4eb1c0576f65','2021-09-25',22623.60,20416.07,2207.54,'319e97f7-6cc5-4de3-bf46-97cdc990947f')
INSERT INTO PAYMENTS VALUES('d497a2f3-5ccc-44a3-aa5c-e16e943bd97d','2021-10-25',22623.60,20679.77,1943.83,'319e97f7-6cc5-4de3-bf46-97cdc990947f')
INSERT INTO PAYMENTS VALUES('bb78a974-5d0e-4aad-9089-9697cd826c5d','2021-11-25',22623.60,20946.89,1676.72,'319e97f7-6cc5-4de3-bf46-97cdc990947f')
INSERT INTO PAYMENTS VALUES('f1f8c2b5-c44a-469c-b911-91528414abd4','2021-12-25',22623.60,21217.45,1406.15,'319e97f7-6cc5-4de3-bf46-97cdc990947f')
INSERT INTO PAYMENTS VALUES('a051bbdb-7c23-433f-afcd-a2c91b247a96','2022-01-25',22623.60,21491.51,1132.09,'319e97f7-6cc5-4de3-bf46-97cdc990947f')
INSERT INTO PAYMENTS VALUES('e2ec7f7e-9c63-4c3b-8a2c-aa932bd3a1ee','2022-02-25',22623.60,21769.11,854.50,'319e97f7-6cc5-4de3-bf46-97cdc990947f')
INSERT INTO PAYMENTS VALUES('fb6ebf84-7b97-4558-be90-00c47dd2b676','2022-03-25',22623.60,22050.29,573.31,'319e97f7-6cc5-4de3-bf46-97cdc990947f')
INSERT INTO PAYMENTS VALUES('b2101fad-9168-4629-a0a0-05c939c5768c','2022-04-25',22623.60,22335.11,288.50,'319e97f7-6cc5-4de3-bf46-97cdc990947f')
INSERT INTO PAYMENTS VALUES('44b3374b-e6fa-4e3f-bcb9-302b6fd7fe0a','2021-06-25',50424.02,41351.80,9072.22,'c92bfce9-4cd5-4366-855d-d9dceeab5de9')
INSERT INTO PAYMENTS VALUES('b9d3a097-bc44-4eee-bd83-64b3696013c1','2021-07-25',50424.02,42041.00,8383.02,'c92bfce9-4cd5-4366-855d-d9dceeab5de9')
INSERT INTO PAYMENTS VALUES('66c86716-2e9a-46f0-a008-a8398553b406','2021-08-25',50424.02,42741.68,7682.34,'c92bfce9-4cd5-4366-855d-d9dceeab5de9')
INSERT INTO PAYMENTS VALUES('de5a0061-72ab-47ff-a334-38fbfd67579f','2021-09-25',50424.02,43454.04,6969.98,'c92bfce9-4cd5-4366-855d-d9dceeab5de9')
INSERT INTO PAYMENTS VALUES('1df7c847-ea58-4797-a569-40dc4d7c520e','2021-10-25',50424.02,44178.28,6245.74,'c92bfce9-4cd5-4366-855d-d9dceeab5de9')
INSERT INTO PAYMENTS VALUES('bb964658-8714-4daf-ac0c-7b2b1f3dcdf5','2021-11-25',50424.02,44914.58,5509.44,'c92bfce9-4cd5-4366-855d-d9dceeab5de9')
INSERT INTO PAYMENTS VALUES('01539943-ae49-4fc8-aafc-6a307bbcbd71','2021-12-25',50424.02,45663.16,4760.86,'c92bfce9-4cd5-4366-855d-d9dceeab5de9')
INSERT INTO PAYMENTS VALUES('f35b818b-cdea-4cd2-89c3-4de9a586083f','2022-01-25',50424.02,46424.21,3999.81,'c92bfce9-4cd5-4366-855d-d9dceeab5de9')
INSERT INTO PAYMENTS VALUES('43495ea8-d547-4074-ab91-47986137eb77','2022-02-25',50424.02,47197.95,3226.07,'c92bfce9-4cd5-4366-855d-d9dceeab5de9')
INSERT INTO PAYMENTS VALUES('1b5a008f-bcf5-406f-a2b7-de6d9c498cad','2022-03-25',50424.02,47984.58,2439.44,'c92bfce9-4cd5-4366-855d-d9dceeab5de9')
INSERT INTO PAYMENTS VALUES('1ac56870-75bb-45be-89c6-8087a914aabb','2022-04-25',50424.02,48784.32,1639.70,'c92bfce9-4cd5-4366-855d-d9dceeab5de9')
INSERT INTO PAYMENTS VALUES('d7083b3b-3a76-421b-a027-238a58fd75f0','2022-04-25',50424.02,49597.40,826.62,'c92bfce9-4cd5-4366-855d-d9dceeab5de9')
COMMIT
DISCONNECT
/*C5*/SET SCHEMA PUBLIC
DISCONNECT
/*C6*/SET SCHEMA PUBLIC
DISCONNECT
/*C7*/SET SCHEMA PUBLIC
DISCONNECT
/*C8*/SET SCHEMA PUBLIC
DISCONNECT
/*C9*/SET SCHEMA PUBLIC
DISCONNECT
/*C10*/SET SCHEMA PUBLIC
DISCONNECT
/*C11*/SET SCHEMA PUBLIC
DISCONNECT
/*C12*/SET SCHEMA PUBLIC
DISCONNECT
/*C13*/SET SCHEMA PUBLIC
DISCONNECT
/*C14*/SET SCHEMA PUBLIC
DISCONNECT
/*C15*/SET SCHEMA PUBLIC
DISCONNECT
/*C16*/SET SCHEMA PUBLIC
DISCONNECT
/*C17*/SET SCHEMA PUBLIC
DISCONNECT
/*C3*/SET SCHEMA PUBLIC
DISCONNECT
/*C4*/SET SCHEMA PUBLIC
DROP TABLE payments IF EXISTS CASCADE
DROP TABLE credit_proposals IF EXISTS CASCADE
DROP TABLE credits IF EXISTS
DROP TABLE customers IF EXISTS
DROP TABLE banks IF EXISTS
CREATE TABLE banks ( id UUID PRIMARY KEY )
CREATE TABLE customers ( id UUID PRIMARY KEY, fio VARCHAR(255) NOT NULL, phone_number VARCHAR(255) NOT NULL, email VARCHAR(255) NOT NULL, passport_number VARCHAR(255) NOT NULL, bank_id UUID NOT NULL, FOREIGN KEY (bank_id) REFERENCES banks (id) ON DELETE CASCADE )
CREATE TABLE credits ( id UUID PRIMARY KEY, limit DECIMAL(19,2) NOT NULL, interest_rate DECIMAL(19,2) NOT NULL, bank_id UUID NOT NULL, FOREIGN KEY (bank_id) REFERENCES banks (id) ON DELETE CASCADE )
CREATE TABLE credit_proposals ( id UUID PRIMARY KEY, credit_amount DECIMAL(19,2) NOT NULL, customer_id UUID NOT NULL, credit_id UUID NOT NULL, FOREIGN KEY (customer_id) REFERENCES customers (id) ON DELETE CASCADE, FOREIGN KEY (credit_id) REFERENCES credits (id) ON DELETE CASCADE )
CREATE TABLE payments ( id UUID PRIMARY KEY, date Date NOT NULL, total_amount Decimal(19,2) NOT NULL, amount_of_credit_body_repayment Decimal(19,2) NOT NULL, amount_of_interest_repayment Decimal(19,2) NOT NULL, credit_proposal_id UUID NOT NULL, FOREIGN KEY (credit_proposal_id) REFERENCES credit_proposals (id) ON DELETE CASCADE )
DROP PROCEDURE populate_db IF EXISTS
CREATE PROCEDURE populate_db() MODIFIES SQL DATA BEGIN ATOMIC DECLARE bank_id1, bank_id2, customer_id1, customer_id2, customer_id3, credit_id1, credit_id2, credit_id3, credit_proposal_id1, credit_proposal_id2 UUID; SET bank_id1 = UUID(); SET bank_id2 = UUID(); SET customer_id1 = UUID(); SET customer_id2 = UUID(); SET customer_id3 = UUID(); SET credit_id1 = UUID(); SET credit_id2 = UUID(); SET credit_id3 = UUID(); SET credit_proposal_id1 = UUID(); SET credit_proposal_id2 = UUID(); DELETE FROM payments; DELETE FROM credit_proposals; DELETE FROM credits; DELETE FROM customers; DELETE FROM banks; INSERT INTO banks (id) VALUES (bank_id1), (bank_id2); INSERT INTO customers (id, fio, phone_number, email, passport_number, bank_id) VALUES (customer_id1, '\u041a\u0443\u0437\u043d\u0435\u0446\u043e\u0432 \u041c\u0430\u043a\u0441\u0438\u043c \u0420\u043e\u043c\u0430\u043d\u043e\u0432\u0438\u0447', '892496599429', 'yf.bos@gmail.com', '968738651', bank_id1), (customer_id2, '\u0410\u0440\u0445\u0438\u043f\u043e\u0432 \u041c\u0430\u0442\u0432\u0435\u0439 \u0410\u043b\u044c\u0431\u0435\u0440\u0442\u043e\u0432\u0438\u0447', '892439700081', 'ds.gdr@gmail.com', '752010981', bank_id1), (customer_id3, '\u0412\u043e\u0440\u043e\u043d\u0438\u043d \u0410\u043b\u0435\u043a\u0441\u0435\u0439 \u0412\u0430\u0441\u0438\u043b\u044c\u0435\u0432\u0438\u0447', '892434918433', 'sa.fds@gmail.com', '456656525', bank_id2); INSERT INTO credits (id, limit, interest_rate, bank_id) VALUES (credit_id1, 250000, 20, bank_id1), (credit_id2, 500000, 15.5, bank_id1), (credit_id3, 750000, 10.5, bank_id2); INSERT INTO credit_proposals (id, credit_amount, customer_id, credit_id) VALUES (credit_proposal_id1, 250000, customer_id2, credit_id2), (credit_proposal_id2, 544333, customer_id3, credit_id3); INSERT INTO payments (id, date, total_amount, amount_of_credit_body_repayment, amount_of_interest_repayment, credit_proposal_id) VALUES (UUID(), '2021-05-25', 22623.6, 19394.44, 3229.17, credit_proposal_id1), (UUID(), '2021-06-25', 22623.6, 19644.95, 2978.66, credit_proposal_id1), (UUID(), '2021-07-25', 22623.6, 19898.7, 2724.91, credit_proposal_id1), (UUID(), '2021-08-25', 22623.6, 20155.72, 2467.88, credit_proposal_id1), (UUID(), '2021-09-25', 22623.6, 20416.07, 2207.54, credit_proposal_id1), (UUID(), '2021-10-25', 22623.6, 20679.77, 1943.83, credit_proposal_id1), (UUID(), '2021-11-25', 22623.6, 20946.89, 1676.72, credit_proposal_id1), (UUID(), '2021-12-25', 22623.6, 21217.45, 1406.15, credit_proposal_id1), (UUID(), '2022-01-25', 22623.6, 21491.51, 1132.09, credit_proposal_id1), (UUID(), '2022-02-25', 22623.6, 21769.11, 854.5, credit_proposal_id1), (UUID(), '2022-03-25', 22623.6, 22050.29, 573.31, credit_proposal_id1), (UUID(), '2022-04-25', 22623.6, 22335.11, 288.5, credit_proposal_id1), (UUID(), '2021-06-25', 50424.02, 41351.8, 9072.22, credit_proposal_id2), (UUID(), '2021-07-25', 50424.02, 42041, 8383.02, credit_proposal_id2), (UUID(), '2021-08-25', 50424.02, 42741.68, 7682.34, credit_proposal_id2), (UUID(), '2021-09-25', 50424.02, 43454.04, 6969.98, credit_proposal_id2), (UUID(), '2021-10-25', 50424.02, 44178.28, 6245.74, credit_proposal_id2), (UUID(), '2021-11-25', 50424.02, 44914.58, 5509.44, credit_proposal_id2), (UUID(), '2021-12-25', 50424.02, 45663.16, 4760.86, credit_proposal_id2), (UUID(), '2022-01-25', 50424.02, 46424.21, 3999.81, credit_proposal_id2), (UUID(), '2022-02-25', 50424.02, 47197.95, 3226.07, credit_proposal_id2), (UUID(), '2022-03-25', 50424.02, 47984.58, 2439.44, credit_proposal_id2), (UUID(), '2022-04-25', 50424.02, 48784.32, 1639.7, credit_proposal_id2), (UUID(), '2022-04-25', 50424.02, 49597.4, 826.62, credit_proposal_id2); END
INSERT INTO BANKS VALUES('510ab4ec-755d-48f3-92a4-469e0d0f1024')
INSERT INTO BANKS VALUES('2c51af1d-753f-455e-a64c-4f28a43a19f3')
INSERT INTO CUSTOMERS VALUES('0f3d120d-b427-4b27-bc7f-d09ecd23ec3b','\u041a\u0443\u0437\u043d\u0435\u0446\u043e\u0432 \u041c\u0430\u043a\u0441\u0438\u043c \u0420\u043e\u043c\u0430\u043d\u043e\u0432\u0438\u0447','892496599429','yf.bos@gmail.com','968738651','510ab4ec-755d-48f3-92a4-469e0d0f1024')
INSERT INTO CUSTOMERS VALUES('4dd424c5-b608-4f3d-9e9d-a2be46b60ef2','\u0410\u0440\u0445\u0438\u043f\u043e\u0432 \u041c\u0430\u0442\u0432\u0435\u0439 \u0410\u043b\u044c\u0431\u0435\u0440\u0442\u043e\u0432\u0438\u0447','892439700081','ds.gdr@gmail.com','752010981','510ab4ec-755d-48f3-92a4-469e0d0f1024')
INSERT INTO CUSTOMERS VALUES('2d5fe552-cf1d-4d93-96d6-77a0c2c670e4','\u0412\u043e\u0440\u043e\u043d\u0438\u043d \u0410\u043b\u0435\u043a\u0441\u0435\u0439 \u0412\u0430\u0441\u0438\u043b\u044c\u0435\u0432\u0438\u0447','892434918433','sa.fds@gmail.com','456656525','2c51af1d-753f-455e-a64c-4f28a43a19f3')
INSERT INTO CREDITS VALUES('97da3b28-8157-434a-9a1c-8fe082596f2b',250000.00,20.00,'510ab4ec-755d-48f3-92a4-469e0d0f1024')
INSERT INTO CREDITS VALUES('c70b03e8-f10f-4a7c-ae6e-9616e6d977be',500000.00,15.50,'510ab4ec-755d-48f3-92a4-469e0d0f1024')
INSERT INTO CREDITS VALUES('96af79ac-7b85-417c-8155-c5247fea9302',750000.00,10.50,'2c51af1d-753f-455e-a64c-4f28a43a19f3')
INSERT INTO CREDIT_PROPOSALS VALUES('3c12e55e-d394-43b3-a0df-5c7f5a7d959b',250000.00,'4dd424c5-b608-4f3d-9e9d-a2be46b60ef2','c70b03e8-f10f-4a7c-ae6e-9616e6d977be')
INSERT INTO CREDIT_PROPOSALS VALUES('401f5c7c-349a-4d92-9bf0-0ec9a51848f0',544333.00,'2d5fe552-cf1d-4d93-96d6-77a0c2c670e4','96af79ac-7b85-417c-8155-c5247fea9302')
INSERT INTO PAYMENTS VALUES('0619a2d6-223d-4f46-a3f5-abe19a4f14c5','2021-05-25',22623.60,19394.44,3229.17,'3c12e55e-d394-43b3-a0df-5c7f5a7d959b')
INSERT INTO PAYMENTS VALUES('c46ac893-7612-42cf-8e27-1bea854fd172','2021-06-25',22623.60,19644.95,2978.66,'3c12e55e-d394-43b3-a0df-5c7f5a7d959b')
INSERT INTO PAYMENTS VALUES('87ff3d4e-88a0-4d59-8268-f64c9406c17e','2021-07-25',22623.60,19898.70,2724.91,'3c12e55e-d394-43b3-a0df-5c7f5a7d959b')
INSERT INTO PAYMENTS VALUES('778cb8c1-6a0f-41bf-8c6e-e5c105285aa5','2021-08-25',22623.60,20155.72,2467.88,'3c12e55e-d394-43b3-a0df-5c7f5a7d959b')
INSERT INTO PAYMENTS VALUES('049455ed-6851-446b-80d2-8fb7ea8cc43c','2021-09-25',22623.60,20416.07,2207.54,'3c12e55e-d394-43b3-a0df-5c7f5a7d959b')
INSERT INTO PAYMENTS VALUES('e7d8bf0d-f3af-4f48-a398-51d512fb2708','2021-10-25',22623.60,20679.77,1943.83,'3c12e55e-d394-43b3-a0df-5c7f5a7d959b')
INSERT INTO PAYMENTS VALUES('626b06d5-ff3f-4088-8c9e-2ed75b7ae868','2021-11-25',22623.60,20946.89,1676.72,'3c12e55e-d394-43b3-a0df-5c7f5a7d959b')
INSERT INTO PAYMENTS VALUES('a2d3ea8f-a5c6-46df-94e1-2aa277f61efa','2021-12-25',22623.60,21217.45,1406.15,'3c12e55e-d394-43b3-a0df-5c7f5a7d959b')
INSERT INTO PAYMENTS VALUES('65e07aa3-7fe2-4132-a7f3-36d8af9cd4ec','2022-01-25',22623.60,21491.51,1132.09,'3c12e55e-d394-43b3-a0df-5c7f5a7d959b')
INSERT INTO PAYMENTS VALUES('4468d520-2408-4e23-8497-05f73e8b8fde','2022-02-25',22623.60,21769.11,854.50,'3c12e55e-d394-43b3-a0df-5c7f5a7d959b')
INSERT INTO PAYMENTS VALUES('8969242e-13be-4a11-9073-a8668e538201','2022-03-25',22623.60,22050.29,573.31,'3c12e55e-d394-43b3-a0df-5c7f5a7d959b')
INSERT INTO PAYMENTS VALUES('a587031c-8cdc-4c3e-b70f-1762bf5cdfc7','2022-04-25',22623.60,22335.11,288.50,'3c12e55e-d394-43b3-a0df-5c7f5a7d959b')
INSERT INTO PAYMENTS VALUES('65e2c467-7ebd-4f51-a76b-1cb9ad0f7bf4','2021-06-25',50424.02,41351.80,9072.22,'401f5c7c-349a-4d92-9bf0-0ec9a51848f0')
INSERT INTO PAYMENTS VALUES('5fab18fa-3a05-4d88-9969-cf66ed91114c','2021-07-25',50424.02,42041.00,8383.02,'401f5c7c-349a-4d92-9bf0-0ec9a51848f0')
INSERT INTO PAYMENTS VALUES('6b70bd59-b097-42f2-890a-c55a256190b7','2021-08-25',50424.02,42741.68,7682.34,'401f5c7c-349a-4d92-9bf0-0ec9a51848f0')
INSERT INTO PAYMENTS VALUES('80054616-3493-40b7-bc55-b612e80cebd3','2021-09-25',50424.02,43454.04,6969.98,'401f5c7c-349a-4d92-9bf0-0ec9a51848f0')
INSERT INTO PAYMENTS VALUES('ccc24d7f-86bf-45a2-8433-65ee0177d4ff','2021-10-25',50424.02,44178.28,6245.74,'401f5c7c-349a-4d92-9bf0-0ec9a51848f0')
INSERT INTO PAYMENTS VALUES('e33836e9-a3af-494f-9e2e-bba196d2be1b','2021-11-25',50424.02,44914.58,5509.44,'401f5c7c-349a-4d92-9bf0-0ec9a51848f0')
INSERT INTO PAYMENTS VALUES('32c2d1f5-5877-449f-ab65-06f0a74f3b4b','2021-12-25',50424.02,45663.16,4760.86,'401f5c7c-349a-4d92-9bf0-0ec9a51848f0')
INSERT INTO PAYMENTS VALUES('33ea703f-2f4e-4250-a0fa-9bcfde97449a','2022-01-25',50424.02,46424.21,3999.81,'401f5c7c-349a-4d92-9bf0-0ec9a51848f0')
INSERT INTO PAYMENTS VALUES('02f0d14b-5d08-4209-85c0-7eda20a4ca46','2022-02-25',50424.02,47197.95,3226.07,'401f5c7c-349a-4d92-9bf0-0ec9a51848f0')
INSERT INTO PAYMENTS VALUES('8d9b46ec-5be9-4c26-9e58-2d15c6ebfd42','2022-03-25',50424.02,47984.58,2439.44,'401f5c7c-349a-4d92-9bf0-0ec9a51848f0')
INSERT INTO PAYMENTS VALUES('dfdb8a61-07c4-4417-8969-07d8bccaf2ab','2022-04-25',50424.02,48784.32,1639.70,'401f5c7c-349a-4d92-9bf0-0ec9a51848f0')
INSERT INTO PAYMENTS VALUES('74b99fe4-81df-4e90-805c-ff95b330d1e0','2022-04-25',50424.02,49597.40,826.62,'401f5c7c-349a-4d92-9bf0-0ec9a51848f0')
COMMIT
DISCONNECT
/*C5*/SET SCHEMA PUBLIC
DISCONNECT
/*C6*/SET SCHEMA PUBLIC
DISCONNECT
/*C7*/SET SCHEMA PUBLIC
DISCONNECT
/*C8*/SET SCHEMA PUBLIC
DISCONNECT
/*C9*/SET SCHEMA PUBLIC
DISCONNECT
/*C10*/SET SCHEMA PUBLIC
DISCONNECT
/*C11*/SET SCHEMA PUBLIC
DISCONNECT
/*C12*/SET SCHEMA PUBLIC
DISCONNECT
/*C13*/SET SCHEMA PUBLIC
DISCONNECT
/*C14*/SET SCHEMA PUBLIC
DISCONNECT
/*C15*/SET SCHEMA PUBLIC
DISCONNECT
/*C16*/SET SCHEMA PUBLIC
DISCONNECT
/*C17*/SET SCHEMA PUBLIC
DISCONNECT
/*C18*/SET SCHEMA PUBLIC
INSERT INTO CUSTOMERS VALUES('af34faca-6864-4e26-a682-4b206e9da978','Sam Villiam','+ 883(3528)767-03-47','adfgasfgasf@gmail.com','32423424','2c51af1d-753f-455e-a64c-4f28a43a19f3')
COMMIT
DISCONNECT
/*C19*/SET SCHEMA PUBLIC
DISCONNECT
/*C20*/SET SCHEMA PUBLIC
DISCONNECT
/*C21*/SET SCHEMA PUBLIC
DISCONNECT
/*C22*/SET SCHEMA PUBLIC
DISCONNECT
/*C23*/SET SCHEMA PUBLIC
DISCONNECT
/*C24*/SET SCHEMA PUBLIC
DISCONNECT
/*C25*/SET SCHEMA PUBLIC
DISCONNECT
/*C26*/SET SCHEMA PUBLIC
INSERT INTO CREDITS VALUES('225ef091-fe4a-450f-a758-0f21c7cfc724',33.00,10.00,'2c51af1d-753f-455e-a64c-4f28a43a19f3')
COMMIT
DISCONNECT
/*C27*/SET SCHEMA PUBLIC
DISCONNECT
/*C28*/SET SCHEMA PUBLIC
DISCONNECT
/*C29*/SET SCHEMA PUBLIC
DISCONNECT
/*C30*/SET SCHEMA PUBLIC
DISCONNECT
/*C31*/SET SCHEMA PUBLIC
DELETE FROM CREDITS WHERE ID='225ef091-fe4a-450f-a758-0f21c7cfc724'
COMMIT
DISCONNECT
/*C32*/SET SCHEMA PUBLIC
DISCONNECT
/*C33*/SET SCHEMA PUBLIC
DISCONNECT
/*C34*/SET SCHEMA PUBLIC
DISCONNECT
/*C35*/SET SCHEMA PUBLIC
DELETE FROM CUSTOMERS WHERE ID='af34faca-6864-4e26-a682-4b206e9da978'
COMMIT
DISCONNECT
/*C36*/SET SCHEMA PUBLIC
DISCONNECT
/*C37*/SET SCHEMA PUBLIC
DISCONNECT
/*C38*/SET SCHEMA PUBLIC
DISCONNECT
/*C39*/SET SCHEMA PUBLIC
DISCONNECT
/*C40*/SET SCHEMA PUBLIC
DISCONNECT
/*C41*/SET SCHEMA PUBLIC
DISCONNECT
/*C42*/SET SCHEMA PUBLIC
DISCONNECT
/*C43*/SET SCHEMA PUBLIC
DISCONNECT
/*C44*/SET SCHEMA PUBLIC
DISCONNECT
/*C45*/SET SCHEMA PUBLIC
DISCONNECT
/*C46*/SET SCHEMA PUBLIC
DISCONNECT
/*C47*/SET SCHEMA PUBLIC
DISCONNECT
/*C48*/SET SCHEMA PUBLIC
DISCONNECT
/*C49*/SET SCHEMA PUBLIC
DISCONNECT
/*C50*/SET SCHEMA PUBLIC
DISCONNECT
/*C51*/SET SCHEMA PUBLIC
DISCONNECT
/*C52*/SET SCHEMA PUBLIC
DISCONNECT
/*C53*/SET SCHEMA PUBLIC
DISCONNECT
/*C54*/SET SCHEMA PUBLIC
DISCONNECT
/*C55*/SET SCHEMA PUBLIC
DISCONNECT
/*C56*/SET SCHEMA PUBLIC
DELETE FROM CUSTOMERS WHERE ID='0f3d120d-b427-4b27-bc7f-d09ecd23ec3b'
INSERT INTO CUSTOMERS VALUES('0f3d120d-b427-4b27-bc7f-d09ecd23ec3b','\u041a\u0443\u0437\u043d\u0435\u0446\u043e\u0432 \u041c\u0430\u043a\u0441\u0438\u043c \u0420\u043e\u043c\u0430\u043d\u043e\u0432\u0438\u0447','892496599429','yf.bos@gmail.com','968738651','2c51af1d-753f-455e-a64c-4f28a43a19f3')
COMMIT
DISCONNECT
/*C57*/SET SCHEMA PUBLIC
DISCONNECT
/*C58*/SET SCHEMA PUBLIC
DISCONNECT
/*C59*/SET SCHEMA PUBLIC
DISCONNECT
/*C60*/SET SCHEMA PUBLIC
DISCONNECT
/*C61*/SET SCHEMA PUBLIC
DISCONNECT
/*C62*/SET SCHEMA PUBLIC
DISCONNECT
/*C63*/SET SCHEMA PUBLIC
DISCONNECT
/*C64*/SET SCHEMA PUBLIC
DISCONNECT
/*C65*/SET SCHEMA PUBLIC
DISCONNECT
/*C66*/SET SCHEMA PUBLIC
DISCONNECT
/*C67*/SET SCHEMA PUBLIC
DISCONNECT
/*C68*/SET SCHEMA PUBLIC
DISCONNECT
/*C69*/SET SCHEMA PUBLIC
DISCONNECT
/*C70*/SET SCHEMA PUBLIC
DISCONNECT
/*C71*/SET SCHEMA PUBLIC
DISCONNECT
/*C72*/SET SCHEMA PUBLIC
DELETE FROM CREDIT_PROPOSALS WHERE ID='3c12e55e-d394-43b3-a0df-5c7f5a7d959b'
DELETE FROM PAYMENTS WHERE ID='0619a2d6-223d-4f46-a3f5-abe19a4f14c5'
DELETE FROM PAYMENTS WHERE ID='c46ac893-7612-42cf-8e27-1bea854fd172'
DELETE FROM PAYMENTS WHERE ID='87ff3d4e-88a0-4d59-8268-f64c9406c17e'
DELETE FROM PAYMENTS WHERE ID='778cb8c1-6a0f-41bf-8c6e-e5c105285aa5'
DELETE FROM PAYMENTS WHERE ID='049455ed-6851-446b-80d2-8fb7ea8cc43c'
DELETE FROM PAYMENTS WHERE ID='e7d8bf0d-f3af-4f48-a398-51d512fb2708'
DELETE FROM PAYMENTS WHERE ID='626b06d5-ff3f-4088-8c9e-2ed75b7ae868'
DELETE FROM PAYMENTS WHERE ID='a2d3ea8f-a5c6-46df-94e1-2aa277f61efa'
DELETE FROM PAYMENTS WHERE ID='65e07aa3-7fe2-4132-a7f3-36d8af9cd4ec'
DELETE FROM PAYMENTS WHERE ID='4468d520-2408-4e23-8497-05f73e8b8fde'
DELETE FROM PAYMENTS WHERE ID='8969242e-13be-4a11-9073-a8668e538201'
DELETE FROM PAYMENTS WHERE ID='a587031c-8cdc-4c3e-b70f-1762bf5cdfc7'
COMMIT
DISCONNECT
/*C73*/SET SCHEMA PUBLIC
DISCONNECT
/*C74*/SET SCHEMA PUBLIC
DISCONNECT
/*C75*/SET SCHEMA PUBLIC
DISCONNECT
/*C76*/SET SCHEMA PUBLIC
DISCONNECT
/*C77*/SET SCHEMA PUBLIC
DISCONNECT
/*C78*/SET SCHEMA PUBLIC
DISCONNECT
/*C79*/SET SCHEMA PUBLIC
DISCONNECT
/*C80*/SET SCHEMA PUBLIC
DISCONNECT
/*C81*/SET SCHEMA PUBLIC
DISCONNECT
/*C82*/SET SCHEMA PUBLIC
DISCONNECT
/*C83*/SET SCHEMA PUBLIC
DISCONNECT
/*C84*/SET SCHEMA PUBLIC
DISCONNECT
/*C85*/SET SCHEMA PUBLIC
DISCONNECT
/*C86*/SET SCHEMA PUBLIC
INSERT INTO CREDIT_PROPOSALS VALUES('852d68c1-a61c-41c7-8ffa-230a68b9d46e',300000.00,'2d5fe552-cf1d-4d93-96d6-77a0c2c670e4','97da3b28-8157-434a-9a1c-8fe082596f2b')
INSERT INTO PAYMENTS VALUES('02b6d2f7-b6c2-48d3-a35c-259673f55486','2021-05-30',27790.35,22790.35,5000.00,'852d68c1-a61c-41c7-8ffa-230a68b9d46e')
INSERT INTO PAYMENTS VALUES('600b17b7-36ee-4791-a9eb-cd5d89d2a554','2021-06-30',27790.35,23170.19,4620.16,'852d68c1-a61c-41c7-8ffa-230a68b9d46e')
INSERT INTO PAYMENTS VALUES('896ee5d6-b0fc-46f7-9080-64bc96b4daf9','2021-07-30',27790.35,23556.36,4233.99,'852d68c1-a61c-41c7-8ffa-230a68b9d46e')
INSERT INTO PAYMENTS VALUES('309501ee-e274-41aa-917e-14b507ae8b47','2021-08-30',27790.35,23948.97,3841.38,'852d68c1-a61c-41c7-8ffa-230a68b9d46e')
INSERT INTO PAYMENTS VALUES('fb1b6a69-9a86-47d8-a429-53099e2a2d6c','2021-09-30',27790.35,24348.12,3442.24,'852d68c1-a61c-41c7-8ffa-230a68b9d46e')
INSERT INTO PAYMENTS VALUES('2c45874d-95a5-4049-9105-d307acf1c765','2021-10-30',27790.35,24753.92,3036.43,'852d68c1-a61c-41c7-8ffa-230a68b9d46e')
INSERT INTO PAYMENTS VALUES('9b692691-fad4-4347-be11-bd4e11bdde92','2021-11-30',27790.35,25166.48,2623.87,'852d68c1-a61c-41c7-8ffa-230a68b9d46e')
INSERT INTO PAYMENTS VALUES('c42909f5-04fc-4f76-ab58-d0ffec6bf660','2021-12-30',27790.35,25585.92,2204.43,'852d68c1-a61c-41c7-8ffa-230a68b9d46e')
INSERT INTO PAYMENTS VALUES('9497bd51-fb6c-4dc8-964d-e8ddd1326270','2022-01-30',27790.35,26012.36,1777.99,'852d68c1-a61c-41c7-8ffa-230a68b9d46e')
INSERT INTO PAYMENTS VALUES('a87d1674-e942-4292-a4ca-735c857d63dd','2022-02-28',27790.35,26445.90,1344.46,'852d68c1-a61c-41c7-8ffa-230a68b9d46e')
INSERT INTO PAYMENTS VALUES('eacb85f2-6e63-4c60-b004-38740e18e69f','2022-03-28',27790.35,26886.66,903.69,'852d68c1-a61c-41c7-8ffa-230a68b9d46e')
INSERT INTO PAYMENTS VALUES('84e36748-1681-43f9-81c6-c7eb9302ddc1','2022-04-28',27790.35,27334.77,455.58,'852d68c1-a61c-41c7-8ffa-230a68b9d46e')
COMMIT
DISCONNECT
/*C87*/SET SCHEMA PUBLIC
DISCONNECT
/*C88*/SET SCHEMA PUBLIC
DISCONNECT
/*C89*/SET SCHEMA PUBLIC
DISCONNECT
/*C90*/SET SCHEMA PUBLIC
DISCONNECT
/*C91*/SET SCHEMA PUBLIC
DISCONNECT
/*C92*/SET SCHEMA PUBLIC
DISCONNECT
/*C93*/SET SCHEMA PUBLIC
DISCONNECT
/*C94*/SET SCHEMA PUBLIC
DISCONNECT
/*C211*/SET SCHEMA PUBLIC
DROP TABLE payments IF EXISTS CASCADE
DROP TABLE credit_proposals IF EXISTS CASCADE
DROP TABLE credits IF EXISTS
DROP TABLE customers IF EXISTS
DROP TABLE banks IF EXISTS
CREATE TABLE banks\u000a(\u000a    id               UUID      PRIMARY KEY\u000a)
CREATE TABLE customers\u000a(\u000a    id               UUID      PRIMARY KEY,\u000a    fio              VARCHAR(255)   NOT NULL,\u000a    phone_number     VARCHAR(255)   NOT NULL,\u000a    email            VARCHAR(255)   NOT NULL,\u000a    passport_number  VARCHAR(255)   NOT NULL,\u000a    bank_id          UUID      NOT NULL,\u000a    FOREIGN KEY (bank_id) REFERENCES banks (id) ON DELETE CASCADE\u000a)
CREATE TABLE credits\u000a(\u000a    id               UUID      PRIMARY KEY,\u000a    limit            DECIMAL(19,2)   NOT NULL,\u000a    interest_rate    DECIMAL(19,2)   NOT NULL,\u000a    bank_id          UUID      NOT NULL,\u000a    FOREIGN KEY (bank_id) REFERENCES banks (id) ON DELETE CASCADE\u000a)
CREATE TABLE credit_proposals\u000a(\u000a    id               UUID      PRIMARY KEY,\u000a    credit_amount    DECIMAL(19,2)   NOT NULL,\u000a    customer_id      UUID      NOT NULL,\u000a    credit_id        UUID      NOT NULL,\u000a    FOREIGN KEY (customer_id) REFERENCES customers (id) ON DELETE CASCADE,\u000a    FOREIGN KEY (credit_id) REFERENCES credits (id) ON DELETE CASCADE\u000a)
CREATE TABLE payments\u000a(\u000a    id                UUID           PRIMARY KEY,\u000a    date              Date              NOT NULL,\u000a    total_amount      Decimal(19,2)     NOT NULL,\u000a    amount_of_credit_body_repayment   Decimal(19,2)   NOT NULL,\u000a    amount_of_interest_repayment      Decimal(19,2)   NOT NULL,\u000a    credit_proposal_id                UUID            NOT NULL,\u000a    FOREIGN KEY (credit_proposal_id) REFERENCES credit_proposals (id) ON DELETE CASCADE\u000a)
DISCONNECT
/*C212*/SET SCHEMA PUBLIC
DISCONNECT
/*C213*/SET SCHEMA PUBLIC
DROP PROCEDURE populate_db IF EXISTS
CREATE PROCEDURE populate_db()\u000a    MODIFIES SQL DATA\u000aBEGIN\u000a    ATOMIC\u000a    DECLARE bank_id1, bank_id2, customer_id1, customer_id2, customer_id3, credit_id1, credit_id2,\u000a        credit_id3, credit_proposal_id1, credit_proposal_id2 UUID;\u000a    SET bank_id1 = UUID();\u000a    SET bank_id2 = UUID();\u000a    SET customer_id1 = UUID();\u000a    SET customer_id2 = UUID();\u000a    SET customer_id3 = UUID();\u000a    SET credit_id1 = UUID();\u000a    SET credit_id2 = UUID();\u000a    SET credit_id3 = UUID();\u000a    SET credit_proposal_id1 = UUID();\u000a    SET credit_proposal_id2 = UUID();\u000a\u000a    DELETE FROM payments;\u000a    DELETE FROM credit_proposals;\u000a    DELETE FROM credits;\u000a    DELETE FROM customers;\u000a    DELETE FROM banks;\u000a\u000a    INSERT INTO banks (id)\u000a    VALUES (bank_id1),\u000a           (bank_id2);\u000a\u000a    INSERT INTO customers (id, fio, phone_number, email, passport_number, bank_id)\u000a    VALUES (customer_id1, '\u041a\u0443\u0437\u043d\u0435\u0446\u043e\u0432 \u041c\u0430\u043a\u0441\u0438\u043c \u0420\u043e\u043c\u0430\u043d\u043e\u0432\u0438\u0447', '892496599429', 'yf.bos@gmail.com', '968738651', bank_id1),\u000a           (customer_id2, '\u0410\u0440\u0445\u0438\u043f\u043e\u0432 \u041c\u0430\u0442\u0432\u0435\u0439 \u0410\u043b\u044c\u0431\u0435\u0440\u0442\u043e\u0432\u0438\u0447', '892439700081', 'ds.gdr@gmail.com', '752010981', bank_id1),\u000a           (customer_id3, '\u0412\u043e\u0440\u043e\u043d\u0438\u043d \u0410\u043b\u0435\u043a\u0441\u0435\u0439 \u0412\u0430\u0441\u0438\u043b\u044c\u0435\u0432\u0438\u0447', '892434918433', 'sa.fds@gmail.com', '456656525', bank_id2);\u000a\u000a    INSERT INTO credits (id, limit, interest_rate, bank_id)\u000a    VALUES (credit_id1, 250000, 20, bank_id1),\u000a           (credit_id2, 500000, 15.5, bank_id1),\u000a           (credit_id3, 750000, 10.5, bank_id2);\u000a\u000a    INSERT INTO credit_proposals (id, credit_amount, customer_id, credit_id)\u000a    VALUES (credit_proposal_id1, 250000, customer_id2, credit_id2),\u000a           (credit_proposal_id2, 544333, customer_id3, credit_id3);\u000a\u000a    INSERT INTO payments (id, date, total_amount, amount_of_credit_body_repayment,\u000a                          amount_of_interest_repayment, credit_proposal_id)\u000a    VALUES (UUID(), '2021-05-25', 22623.6, 19394.44, 3229.17, credit_proposal_id1),\u000a           (UUID(), '2021-06-25', 22623.6, 19644.95, 2978.66, credit_proposal_id1),\u000a           (UUID(), '2021-07-25', 22623.6, 19898.7, 2724.91, credit_proposal_id1),\u000a           (UUID(), '2021-08-25', 22623.6, 20155.72, 2467.88, credit_proposal_id1),\u000a           (UUID(), '2021-09-25', 22623.6, 20416.07, 2207.54, credit_proposal_id1),\u000a           (UUID(), '2021-10-25', 22623.6, 20679.77, 1943.83, credit_proposal_id1),\u000a           (UUID(), '2021-11-25', 22623.6, 20946.89, 1676.72, credit_proposal_id1),\u000a           (UUID(), '2021-12-25', 22623.6, 21217.45, 1406.15, credit_proposal_id1),\u000a           (UUID(), '2022-01-25', 22623.6, 21491.51, 1132.09, credit_proposal_id1),\u000a           (UUID(), '2022-02-25', 22623.6, 21769.11, 854.5, credit_proposal_id1),\u000a           (UUID(), '2022-03-25', 22623.6, 22050.29, 573.31, credit_proposal_id1),\u000a           (UUID(), '2022-04-25', 22623.6, 22335.11, 288.5, credit_proposal_id1),\u000a           (UUID(), '2021-06-25', 50424.02, 41351.8, 9072.22, credit_proposal_id2),\u000a           (UUID(), '2021-07-25', 50424.02, 42041, 8383.02, credit_proposal_id2),\u000a           (UUID(), '2021-08-25', 50424.02, 42741.68, 7682.34, credit_proposal_id2),\u000a           (UUID(), '2021-09-25', 50424.02, 43454.04, 6969.98, credit_proposal_id2),\u000a           (UUID(), '2021-10-25', 50424.02, 44178.28, 6245.74, credit_proposal_id2),\u000a           (UUID(), '2021-11-25', 50424.02, 44914.58, 5509.44, credit_proposal_id2),\u000a           (UUID(), '2021-12-25', 50424.02, 45663.16, 4760.86, credit_proposal_id2),\u000a           (UUID(), '2022-01-25', 50424.02, 46424.21, 3999.81, credit_proposal_id2),\u000a           (UUID(), '2022-02-25', 50424.02, 47197.95, 3226.07, credit_proposal_id2),\u000a           (UUID(), '2022-03-25', 50424.02, 47984.58, 2439.44, credit_proposal_id2),\u000a           (UUID(), '2022-04-25', 50424.02, 48784.32, 1639.7, credit_proposal_id2),\u000a           (UUID(), '2022-04-25', 50424.02, 49597.4, 826.62, credit_proposal_id2);\u000aEND
INSERT INTO BANKS VALUES('dbdc4d39-83ee-4f9a-8f1a-558ec35bc8f1')
INSERT INTO BANKS VALUES('0447cbb7-308c-4d59-8994-480b13300d68')
INSERT INTO CUSTOMERS VALUES('4a196823-d873-4546-b07c-335bdb06dc23','\u041a\u0443\u0437\u043d\u0435\u0446\u043e\u0432 \u041c\u0430\u043a\u0441\u0438\u043c \u0420\u043e\u043c\u0430\u043d\u043e\u0432\u0438\u0447','892496599429','yf.bos@gmail.com','968738651','dbdc4d39-83ee-4f9a-8f1a-558ec35bc8f1')
INSERT INTO CUSTOMERS VALUES('30877bbd-6a22-4f35-9d39-e9c1449267b3','\u0410\u0440\u0445\u0438\u043f\u043e\u0432 \u041c\u0430\u0442\u0432\u0435\u0439 \u0410\u043b\u044c\u0431\u0435\u0440\u0442\u043e\u0432\u0438\u0447','892439700081','ds.gdr@gmail.com','752010981','dbdc4d39-83ee-4f9a-8f1a-558ec35bc8f1')
INSERT INTO CUSTOMERS VALUES('32dbca05-65b6-4b9f-a452-262f180d77b4','\u0412\u043e\u0440\u043e\u043d\u0438\u043d \u0410\u043b\u0435\u043a\u0441\u0435\u0439 \u0412\u0430\u0441\u0438\u043b\u044c\u0435\u0432\u0438\u0447','892434918433','sa.fds@gmail.com','456656525','0447cbb7-308c-4d59-8994-480b13300d68')
INSERT INTO CREDITS VALUES('f94c9fdc-2b1a-4937-a927-b4257a4f1898',250000.00,20.00,'dbdc4d39-83ee-4f9a-8f1a-558ec35bc8f1')
INSERT INTO CREDITS VALUES('41383e2b-5bca-4474-9e8c-a956ebffd510',500000.00,15.50,'dbdc4d39-83ee-4f9a-8f1a-558ec35bc8f1')
INSERT INTO CREDITS VALUES('02ccd532-ebb7-4e1d-9fc4-2832b39d01ea',750000.00,10.50,'0447cbb7-308c-4d59-8994-480b13300d68')
INSERT INTO CREDIT_PROPOSALS VALUES('a2d46d6e-4cc7-4cb1-bd55-59d695457f3c',250000.00,'30877bbd-6a22-4f35-9d39-e9c1449267b3','41383e2b-5bca-4474-9e8c-a956ebffd510')
INSERT INTO CREDIT_PROPOSALS VALUES('486f2806-2de0-41cc-8d73-1b0ca83c94e7',544333.00,'32dbca05-65b6-4b9f-a452-262f180d77b4','02ccd532-ebb7-4e1d-9fc4-2832b39d01ea')
INSERT INTO PAYMENTS VALUES('047e01a1-c503-41c9-8f25-57cda2560f80','2021-05-25',22623.60,19394.44,3229.17,'a2d46d6e-4cc7-4cb1-bd55-59d695457f3c')
INSERT INTO PAYMENTS VALUES('a2900fc2-9e9f-495f-a167-4ef7bd05d296','2021-06-25',22623.60,19644.95,2978.66,'a2d46d6e-4cc7-4cb1-bd55-59d695457f3c')
INSERT INTO PAYMENTS VALUES('f28948a2-ebf9-4bbb-9855-65fe4240fea6','2021-07-25',22623.60,19898.70,2724.91,'a2d46d6e-4cc7-4cb1-bd55-59d695457f3c')
INSERT INTO PAYMENTS VALUES('42f9f900-004b-4029-92a0-21a2c1ddc710','2021-08-25',22623.60,20155.72,2467.88,'a2d46d6e-4cc7-4cb1-bd55-59d695457f3c')
INSERT INTO PAYMENTS VALUES('9d6e581d-8868-4cd7-a9dd-44df833dee27','2021-09-25',22623.60,20416.07,2207.54,'a2d46d6e-4cc7-4cb1-bd55-59d695457f3c')
INSERT INTO PAYMENTS VALUES('3101d91b-adcb-4438-ae68-3ed3ea6610df','2021-10-25',22623.60,20679.77,1943.83,'a2d46d6e-4cc7-4cb1-bd55-59d695457f3c')
INSERT INTO PAYMENTS VALUES('d2c61f06-afdf-43a2-ad73-46e20b8956c9','2021-11-25',22623.60,20946.89,1676.72,'a2d46d6e-4cc7-4cb1-bd55-59d695457f3c')
INSERT INTO PAYMENTS VALUES('654c5bec-e348-40b1-a7cc-67b8ec1d9d1e','2021-12-25',22623.60,21217.45,1406.15,'a2d46d6e-4cc7-4cb1-bd55-59d695457f3c')
INSERT INTO PAYMENTS VALUES('a81be7fb-0c83-4106-8e8c-f2be054ac83d','2022-01-25',22623.60,21491.51,1132.09,'a2d46d6e-4cc7-4cb1-bd55-59d695457f3c')
INSERT INTO PAYMENTS VALUES('743facab-fd1b-4f27-bffd-0e1fd6538aea','2022-02-25',22623.60,21769.11,854.50,'a2d46d6e-4cc7-4cb1-bd55-59d695457f3c')
INSERT INTO PAYMENTS VALUES('dcf33096-b8ae-4505-8c55-a426cd4fe526','2022-03-25',22623.60,22050.29,573.31,'a2d46d6e-4cc7-4cb1-bd55-59d695457f3c')
INSERT INTO PAYMENTS VALUES('338ddac4-9c02-4090-8357-76f76d51da05','2022-04-25',22623.60,22335.11,288.50,'a2d46d6e-4cc7-4cb1-bd55-59d695457f3c')
INSERT INTO PAYMENTS VALUES('d8f367a1-fdc9-425b-80e6-2a1a5675451a','2021-06-25',50424.02,41351.80,9072.22,'486f2806-2de0-41cc-8d73-1b0ca83c94e7')
INSERT INTO PAYMENTS VALUES('82be1767-f326-4586-b169-25fd52af0acb','2021-07-25',50424.02,42041.00,8383.02,'486f2806-2de0-41cc-8d73-1b0ca83c94e7')
INSERT INTO PAYMENTS VALUES('5e4f6143-6864-4fc5-8571-15f6fe932bff','2021-08-25',50424.02,42741.68,7682.34,'486f2806-2de0-41cc-8d73-1b0ca83c94e7')
INSERT INTO PAYMENTS VALUES('59c389ee-6f48-4f21-bb89-df793ce1268b','2021-09-25',50424.02,43454.04,6969.98,'486f2806-2de0-41cc-8d73-1b0ca83c94e7')
INSERT INTO PAYMENTS VALUES('0720eb9c-ce3a-4ae2-a5b4-27fd3b5d0105','2021-10-25',50424.02,44178.28,6245.74,'486f2806-2de0-41cc-8d73-1b0ca83c94e7')
INSERT INTO PAYMENTS VALUES('f7d9db99-4346-482f-a117-57aa6abf407f','2021-11-25',50424.02,44914.58,5509.44,'486f2806-2de0-41cc-8d73-1b0ca83c94e7')
INSERT INTO PAYMENTS VALUES('5a198b87-560a-4ee5-bfb7-efd244f75998','2021-12-25',50424.02,45663.16,4760.86,'486f2806-2de0-41cc-8d73-1b0ca83c94e7')
INSERT INTO PAYMENTS VALUES('f6b10a48-6fa7-45d9-9cdb-b59c4aab3fde','2022-01-25',50424.02,46424.21,3999.81,'486f2806-2de0-41cc-8d73-1b0ca83c94e7')
INSERT INTO PAYMENTS VALUES('206a059c-caeb-41b4-9450-a8e645d2418a','2022-02-25',50424.02,47197.95,3226.07,'486f2806-2de0-41cc-8d73-1b0ca83c94e7')
INSERT INTO PAYMENTS VALUES('c6baace6-abc5-41c4-8272-fe170ccdae07','2022-03-25',50424.02,47984.58,2439.44,'486f2806-2de0-41cc-8d73-1b0ca83c94e7')
INSERT INTO PAYMENTS VALUES('4be5e720-401e-4937-bd8b-679e456ad28a','2022-04-25',50424.02,48784.32,1639.70,'486f2806-2de0-41cc-8d73-1b0ca83c94e7')
INSERT INTO PAYMENTS VALUES('d99d0db4-5789-4605-b1cd-f5338ca314b1','2022-04-25',50424.02,49597.40,826.62,'486f2806-2de0-41cc-8d73-1b0ca83c94e7')
COMMIT
DISCONNECT
/*C214*/SET SCHEMA PUBLIC
DISCONNECT
/*C3*/SET SCHEMA PUBLIC
DISCONNECT
/*C4*/SET SCHEMA PUBLIC
DROP TABLE payments IF EXISTS CASCADE
DROP TABLE credit_proposals IF EXISTS CASCADE
DROP TABLE credits IF EXISTS
DROP TABLE customers IF EXISTS
DROP TABLE banks IF EXISTS
CREATE TABLE banks ( id UUID PRIMARY KEY )
CREATE TABLE customers ( id UUID PRIMARY KEY, fio VARCHAR(255) NOT NULL, phone_number VARCHAR(255) NOT NULL, email VARCHAR(255) NOT NULL, passport_number VARCHAR(255) NOT NULL, bank_id UUID NOT NULL, FOREIGN KEY (bank_id) REFERENCES banks (id) ON DELETE CASCADE )
CREATE TABLE credits ( id UUID PRIMARY KEY, limit DECIMAL(19,2) NOT NULL, interest_rate DECIMAL(19,2) NOT NULL, bank_id UUID NOT NULL, FOREIGN KEY (bank_id) REFERENCES banks (id) ON DELETE CASCADE )
CREATE TABLE credit_proposals ( id UUID PRIMARY KEY, credit_amount DECIMAL(19,2) NOT NULL, customer_id UUID NOT NULL, credit_id UUID NOT NULL, FOREIGN KEY (customer_id) REFERENCES customers (id) ON DELETE CASCADE, FOREIGN KEY (credit_id) REFERENCES credits (id) ON DELETE CASCADE )
CREATE TABLE payments ( id UUID PRIMARY KEY, date Date NOT NULL, total_amount Decimal(19,2) NOT NULL, amount_of_credit_body_repayment Decimal(19,2) NOT NULL, amount_of_interest_repayment Decimal(19,2) NOT NULL, credit_proposal_id UUID NOT NULL, FOREIGN KEY (credit_proposal_id) REFERENCES credit_proposals (id) ON DELETE CASCADE )
DROP PROCEDURE populate_db IF EXISTS
CREATE PROCEDURE populate_db() MODIFIES SQL DATA BEGIN ATOMIC DECLARE bank_id1, bank_id2, customer_id1, customer_id2, customer_id3, credit_id1, credit_id2, credit_id3, credit_proposal_id1, credit_proposal_id2 UUID; SET bank_id1 = UUID(); SET bank_id2 = UUID(); SET customer_id1 = UUID(); SET customer_id2 = UUID(); SET customer_id3 = UUID(); SET credit_id1 = UUID(); SET credit_id2 = UUID(); SET credit_id3 = UUID(); SET credit_proposal_id1 = UUID(); SET credit_proposal_id2 = UUID(); DELETE FROM payments; DELETE FROM credit_proposals; DELETE FROM credits; DELETE FROM customers; DELETE FROM banks; INSERT INTO banks (id) VALUES (bank_id1), (bank_id2); INSERT INTO customers (id, fio, phone_number, email, passport_number, bank_id) VALUES (customer_id1, '\u041a\u0443\u0437\u043d\u0435\u0446\u043e\u0432 \u041c\u0430\u043a\u0441\u0438\u043c \u0420\u043e\u043c\u0430\u043d\u043e\u0432\u0438\u0447', '892496599429', 'yf.bos@gmail.com', '968738651', bank_id1), (customer_id2, '\u0410\u0440\u0445\u0438\u043f\u043e\u0432 \u041c\u0430\u0442\u0432\u0435\u0439 \u0410\u043b\u044c\u0431\u0435\u0440\u0442\u043e\u0432\u0438\u0447', '892439700081', 'ds.gdr@gmail.com', '752010981', bank_id1), (customer_id3, '\u0412\u043e\u0440\u043e\u043d\u0438\u043d \u0410\u043b\u0435\u043a\u0441\u0435\u0439 \u0412\u0430\u0441\u0438\u043b\u044c\u0435\u0432\u0438\u0447', '892434918433', 'sa.fds@gmail.com', '456656525', bank_id2); INSERT INTO credits (id, limit, interest_rate, bank_id) VALUES (credit_id1, 250000, 20, bank_id1), (credit_id2, 500000, 15.5, bank_id1), (credit_id3, 750000, 10.5, bank_id2); INSERT INTO credit_proposals (id, credit_amount, customer_id, credit_id) VALUES (credit_proposal_id1, 250000, customer_id2, credit_id2), (credit_proposal_id2, 544333, customer_id3, credit_id3); INSERT INTO payments (id, date, total_amount, amount_of_credit_body_repayment, amount_of_interest_repayment, credit_proposal_id) VALUES (UUID(), '2021-05-25', 22623.6, 19394.44, 3229.17, credit_proposal_id1), (UUID(), '2021-06-25', 22623.6, 19644.95, 2978.66, credit_proposal_id1), (UUID(), '2021-07-25', 22623.6, 19898.7, 2724.91, credit_proposal_id1), (UUID(), '2021-08-25', 22623.6, 20155.72, 2467.88, credit_proposal_id1), (UUID(), '2021-09-25', 22623.6, 20416.07, 2207.54, credit_proposal_id1), (UUID(), '2021-10-25', 22623.6, 20679.77, 1943.83, credit_proposal_id1), (UUID(), '2021-11-25', 22623.6, 20946.89, 1676.72, credit_proposal_id1), (UUID(), '2021-12-25', 22623.6, 21217.45, 1406.15, credit_proposal_id1), (UUID(), '2022-01-25', 22623.6, 21491.51, 1132.09, credit_proposal_id1), (UUID(), '2022-02-25', 22623.6, 21769.11, 854.5, credit_proposal_id1), (UUID(), '2022-03-25', 22623.6, 22050.29, 573.31, credit_proposal_id1), (UUID(), '2022-04-25', 22623.6, 22335.11, 288.5, credit_proposal_id1), (UUID(), '2021-06-25', 50424.02, 41351.8, 9072.22, credit_proposal_id2), (UUID(), '2021-07-25', 50424.02, 42041, 8383.02, credit_proposal_id2), (UUID(), '2021-08-25', 50424.02, 42741.68, 7682.34, credit_proposal_id2), (UUID(), '2021-09-25', 50424.02, 43454.04, 6969.98, credit_proposal_id2), (UUID(), '2021-10-25', 50424.02, 44178.28, 6245.74, credit_proposal_id2), (UUID(), '2021-11-25', 50424.02, 44914.58, 5509.44, credit_proposal_id2), (UUID(), '2021-12-25', 50424.02, 45663.16, 4760.86, credit_proposal_id2), (UUID(), '2022-01-25', 50424.02, 46424.21, 3999.81, credit_proposal_id2), (UUID(), '2022-02-25', 50424.02, 47197.95, 3226.07, credit_proposal_id2), (UUID(), '2022-03-25', 50424.02, 47984.58, 2439.44, credit_proposal_id2), (UUID(), '2022-04-25', 50424.02, 48784.32, 1639.7, credit_proposal_id2), (UUID(), '2022-04-25', 50424.02, 49597.4, 826.62, credit_proposal_id2); END
INSERT INTO BANKS VALUES('33108799-c830-4dfd-84eb-e0a20af83861')
INSERT INTO BANKS VALUES('a5b01f09-6fea-4377-b29c-5a6379dc489d')
INSERT INTO CUSTOMERS VALUES('9bc32532-e9bf-437c-8e99-7712d48ef863','\u041a\u0443\u0437\u043d\u0435\u0446\u043e\u0432 \u041c\u0430\u043a\u0441\u0438\u043c \u0420\u043e\u043c\u0430\u043d\u043e\u0432\u0438\u0447','892496599429','yf.bos@gmail.com','968738651','33108799-c830-4dfd-84eb-e0a20af83861')
INSERT INTO CUSTOMERS VALUES('81a90afe-e005-4563-a77c-12885580fb5f','\u0410\u0440\u0445\u0438\u043f\u043e\u0432 \u041c\u0430\u0442\u0432\u0435\u0439 \u0410\u043b\u044c\u0431\u0435\u0440\u0442\u043e\u0432\u0438\u0447','892439700081','ds.gdr@gmail.com','752010981','33108799-c830-4dfd-84eb-e0a20af83861')
INSERT INTO CUSTOMERS VALUES('dedd96bd-e3c8-4cb0-ab72-9b85053962a5','\u0412\u043e\u0440\u043e\u043d\u0438\u043d \u0410\u043b\u0435\u043a\u0441\u0435\u0439 \u0412\u0430\u0441\u0438\u043b\u044c\u0435\u0432\u0438\u0447','892434918433','sa.fds@gmail.com','456656525','a5b01f09-6fea-4377-b29c-5a6379dc489d')
INSERT INTO CREDITS VALUES('dde22dbd-ce49-4ba8-b0dd-d981a6b6fa91',250000.00,20.00,'33108799-c830-4dfd-84eb-e0a20af83861')
INSERT INTO CREDITS VALUES('85c862fa-91b1-4354-b1f4-1f5e7d60fd62',500000.00,15.50,'33108799-c830-4dfd-84eb-e0a20af83861')
INSERT INTO CREDITS VALUES('09aa59bf-1643-4267-8bb0-922f59a7a32b',750000.00,10.50,'a5b01f09-6fea-4377-b29c-5a6379dc489d')
INSERT INTO CREDIT_PROPOSALS VALUES('f3f2c966-33c0-443d-899c-8f8e45c2873a',250000.00,'81a90afe-e005-4563-a77c-12885580fb5f','85c862fa-91b1-4354-b1f4-1f5e7d60fd62')
INSERT INTO CREDIT_PROPOSALS VALUES('eac42345-c387-48a8-b4ab-e2c2bbdce25b',544333.00,'dedd96bd-e3c8-4cb0-ab72-9b85053962a5','09aa59bf-1643-4267-8bb0-922f59a7a32b')
INSERT INTO PAYMENTS VALUES('66b1401a-69de-4fc6-8e5c-af6091d1e5e9','2021-05-25',22623.60,19394.44,3229.17,'f3f2c966-33c0-443d-899c-8f8e45c2873a')
INSERT INTO PAYMENTS VALUES('fedb124d-656d-4bb3-94b4-896bfacb22f8','2021-06-25',22623.60,19644.95,2978.66,'f3f2c966-33c0-443d-899c-8f8e45c2873a')
INSERT INTO PAYMENTS VALUES('f918f8f0-eee9-4fec-ac3f-3bf734a2c502','2021-07-25',22623.60,19898.70,2724.91,'f3f2c966-33c0-443d-899c-8f8e45c2873a')
INSERT INTO PAYMENTS VALUES('5d61d4cd-8550-4e1a-901a-04f8a3f1434f','2021-08-25',22623.60,20155.72,2467.88,'f3f2c966-33c0-443d-899c-8f8e45c2873a')
INSERT INTO PAYMENTS VALUES('350d0ece-174c-45dd-a7d7-8a66e10f44e8','2021-09-25',22623.60,20416.07,2207.54,'f3f2c966-33c0-443d-899c-8f8e45c2873a')
INSERT INTO PAYMENTS VALUES('04147abe-8083-46da-a517-b143612bfcd5','2021-10-25',22623.60,20679.77,1943.83,'f3f2c966-33c0-443d-899c-8f8e45c2873a')
INSERT INTO PAYMENTS VALUES('f581c3a2-f663-4980-82e1-b42b63a6bc53','2021-11-25',22623.60,20946.89,1676.72,'f3f2c966-33c0-443d-899c-8f8e45c2873a')
INSERT INTO PAYMENTS VALUES('2e026ac0-efaa-440b-9ee7-b80752be7c01','2021-12-25',22623.60,21217.45,1406.15,'f3f2c966-33c0-443d-899c-8f8e45c2873a')
INSERT INTO PAYMENTS VALUES('f5e3722f-1c7a-457d-9976-5f6d03bbe4e5','2022-01-25',22623.60,21491.51,1132.09,'f3f2c966-33c0-443d-899c-8f8e45c2873a')
INSERT INTO PAYMENTS VALUES('23d34156-ba23-48e7-beaf-6875125c434a','2022-02-25',22623.60,21769.11,854.50,'f3f2c966-33c0-443d-899c-8f8e45c2873a')
INSERT INTO PAYMENTS VALUES('b24a7dfc-a6ea-4689-afa5-f2357d10456d','2022-03-25',22623.60,22050.29,573.31,'f3f2c966-33c0-443d-899c-8f8e45c2873a')
INSERT INTO PAYMENTS VALUES('b5547351-ace3-4cb7-85a5-ddf955613131','2022-04-25',22623.60,22335.11,288.50,'f3f2c966-33c0-443d-899c-8f8e45c2873a')
INSERT INTO PAYMENTS VALUES('6b12f366-3af7-46ef-9d1b-d7edbcd21e61','2021-06-25',50424.02,41351.80,9072.22,'eac42345-c387-48a8-b4ab-e2c2bbdce25b')
INSERT INTO PAYMENTS VALUES('b2169dc5-cff9-466b-a2d5-447757c95631','2021-07-25',50424.02,42041.00,8383.02,'eac42345-c387-48a8-b4ab-e2c2bbdce25b')
INSERT INTO PAYMENTS VALUES('3d162b86-0964-4e34-8a23-61a8d7d0f2dc','2021-08-25',50424.02,42741.68,7682.34,'eac42345-c387-48a8-b4ab-e2c2bbdce25b')
INSERT INTO PAYMENTS VALUES('4921a745-d43c-474e-a655-95e40e779615','2021-09-25',50424.02,43454.04,6969.98,'eac42345-c387-48a8-b4ab-e2c2bbdce25b')
INSERT INTO PAYMENTS VALUES('2b04c60b-841a-4508-a924-3e3779b26111','2021-10-25',50424.02,44178.28,6245.74,'eac42345-c387-48a8-b4ab-e2c2bbdce25b')
INSERT INTO PAYMENTS VALUES('3ad97cee-1c0c-4525-84ba-0cdbefe35527','2021-11-25',50424.02,44914.58,5509.44,'eac42345-c387-48a8-b4ab-e2c2bbdce25b')
INSERT INTO PAYMENTS VALUES('dc84d520-2c9a-4a45-af4b-46de145d6a3b','2021-12-25',50424.02,45663.16,4760.86,'eac42345-c387-48a8-b4ab-e2c2bbdce25b')
INSERT INTO PAYMENTS VALUES('f552662f-4b47-4dc1-9836-62138ddef182','2022-01-25',50424.02,46424.21,3999.81,'eac42345-c387-48a8-b4ab-e2c2bbdce25b')
INSERT INTO PAYMENTS VALUES('eff6c37c-0bb2-4820-9cbe-e0f278ce736b','2022-02-25',50424.02,47197.95,3226.07,'eac42345-c387-48a8-b4ab-e2c2bbdce25b')
INSERT INTO PAYMENTS VALUES('7aa4a7c4-fe2a-4a4e-affa-2eb613872436','2022-03-25',50424.02,47984.58,2439.44,'eac42345-c387-48a8-b4ab-e2c2bbdce25b')
INSERT INTO PAYMENTS VALUES('aa1b7f54-be42-40eb-b768-a9674d509364','2022-04-25',50424.02,48784.32,1639.70,'eac42345-c387-48a8-b4ab-e2c2bbdce25b')
INSERT INTO PAYMENTS VALUES('81290794-f301-4083-96b7-edd5fe518c3f','2022-04-25',50424.02,49597.40,826.62,'eac42345-c387-48a8-b4ab-e2c2bbdce25b')
COMMIT
DISCONNECT
